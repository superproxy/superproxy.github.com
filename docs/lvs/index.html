<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40"><head><meta http-equiv=Content-Type  content="text/html; charset=utf-8" ><title> LVS介绍</title><!--[if gte mso 9]><xml><w:WordDocument><w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel><w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery><w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery><w:DocumentKind>DocumentNotSpecified</w:DocumentKind><w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing><w:PunctuationKerning></w:PunctuationKerning><w:View>Web</w:View><w:Compatibility><w:DontGrowAutofit/><w:BalanceSingleByteDoubleByteWidth/><w:DoNotExpandShiftReturn/><w:UseFELayout/></w:Compatibility><w:Zoom>0</w:Zoom></w:WordDocument></xml><![endif]--><!--[if gte mso 9]><xml><w:LatentStyles DefLockedState="false"  DefUnhideWhenUsed="true"  DefSemiHidden="true"  DefQFormat="false"  DefPriority="99"  LatentStyleCount="260" >
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Normal" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="heading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="heading 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="9"  SemiHidden="false"  QFormat="true"  Name="heading 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="39"  SemiHidden="false"  Name="toc 9" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Normal Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="footnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="annotation text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="footer" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="index heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="35"  SemiHidden="false"  QFormat="true"  Name="caption" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="table of figures" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="envelope address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="envelope return" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="footnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="annotation reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="line number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="page number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="endnote reference" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="endnote text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="table of authorities" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="macro" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="toa heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Bullet" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Number" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Bullet 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Bullet 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Bullet 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Bullet 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Number 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Number 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Number 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Number 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="10"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Title" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Closing" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="1"  SemiHidden="false"  Name="Default Paragraph Font" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Continue" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Continue 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Continue 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Continue 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="List Continue 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Message Header" ></w:LsdException>
<w:LsdException Locked="false"  Priority="11"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Subtitle" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Salutation" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Date" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text First Indent" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text First Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Note Heading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text Indent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Body Text Indent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Block Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Hyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="FollowedHyperlink" ></w:LsdException>
<w:LsdException Locked="false"  Priority="22"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Strong" ></w:LsdException>
<w:LsdException Locked="false"  Priority="20"  SemiHidden="false"  UnhideWhenUsed="false"  QFormat="true"  Name="Emphasis" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Document Map" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Plain Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="E-mail Signature" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Normal (Web)" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Acronym" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Address" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Cite" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Code" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Definition" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Keyboard" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="HTML Preformatted" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Sample" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Typewriter" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="HTML Variable" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Normal Table" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="annotation subject" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="No List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Simple 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Simple 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Simple 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Classic 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Classic 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Classic 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Classic 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Colorful 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Colorful 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Colorful 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Columns 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Columns 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Columns 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Columns 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Columns 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Grid 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 7" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table List 8" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table 3D effects 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table 3D effects 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table 3D effects 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Contemporary" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Elegant" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Professional" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Subtle 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Subtle 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Web 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Web 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Web 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="99"  SemiHidden="false"  Name="Balloon Text" ></w:LsdException>
<w:LsdException Locked="false"  Priority="59"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Table Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="0"  SemiHidden="false"  Name="Table Theme" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 1" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 2" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 3" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 4" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 5" ></w:LsdException>
<w:LsdException Locked="false"  Priority="60"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="61"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="62"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Light Grid Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="63"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="64"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Shading 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="65"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="66"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium List 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="67"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 1 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="68"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 2 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="69"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Medium Grid 3 Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="70"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Dark List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="71"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Shading Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="72"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful List Accent 6" ></w:LsdException>
<w:LsdException Locked="false"  Priority="73"  SemiHidden="false"  UnhideWhenUsed="false"  Name="Colorful Grid Accent 6" ></w:LsdException>
</w:LatentStyles></xml><![endif]--><style>
@font-face{
font-family:"Times New Roman";
}

@font-face{
font-family:"宋体";
}

@font-face{
font-family:"Wingdings";
}

@font-face{
font-family:"Cambria";
}

@font-face{
font-family:"Calibri";
}

@font-face{
font-family:"Verdana";
}

@font-face{
font-family:"Symbol";
}

@font-face{
font-family:"Arial";
}

@font-face{
font-family:"Tahoma";
}

@font-face{
font-family:"Courier New";
}

@list l0:level1{
mso-level-start-at:2;
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1．";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:25.1000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l0:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:49.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:70.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:91.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:112.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:133.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:154.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:175.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l0:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:196.1000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l1:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:21.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level2{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06E;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level3{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F075;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level4{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level5{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06E;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level6{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F075;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level7{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level8{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06E;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l1:level9{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F075;
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:Wingdings; }

@list l2:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l2:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l2:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l3:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l3:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level1{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l4:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l4:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l5:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l5:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l6:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l6:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level1{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l7:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l7:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l8:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:21.6000pt; text-indent:-21.6000pt; font-family:'Times New Roman'; }

@list l8:level2{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:276.9000pt; text-indent:-28.8000pt; font-family:'Times New Roman'; }

@list l8:level3{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:36.0000pt; text-indent:-36.0000pt; font-family:'Times New Roman'; }

@list l8:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:43.2000pt; text-indent:-43.2000pt; font-family:'Times New Roman'; }

@list l8:level5{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4.%5";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:50.4000pt; text-indent:-50.4000pt; font-family:'Times New Roman'; }

@list l8:level6{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4.%5.%6";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:57.6000pt; text-indent:-57.6000pt; font-family:'Times New Roman'; }

@list l8:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4.%5.%6.%7";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:64.8000pt; text-indent:-64.8000pt; font-family:'Times New Roman'; }

@list l8:level8{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4.%5.%6.%7.%8";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:72.0000pt; text-indent:-72.0000pt; font-family:'Times New Roman'; }

@list l8:level9{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.%2.%3.%4.%5.%6.%7.%8.%9";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:79.2000pt; text-indent:-79.2000pt; font-family:'Times New Roman'; }

@list l9:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l9:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l9:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l10:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:39.0000pt;
mso-level-number-position:left;
margin-left:39.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l11:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:81.0000pt;
mso-level-number-position:left;
margin-left:81.0000pt; text-indent:-18.0000pt; font-family:Wingdings; }

@list l12:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:18.0000pt;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l13:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:18.0000pt;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:Wingdings; }

@list l14:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:60.0000pt;
mso-level-number-position:left;
margin-left:60.0000pt; text-indent:-18.0000pt; font-family:Wingdings; }

@list l15:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:60.0000pt;
mso-level-number-position:left;
margin-left:60.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l16:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:39.0000pt;
mso-level-number-position:left;
margin-left:39.0000pt; text-indent:-18.0000pt; font-family:Wingdings; }

@list l17:level1{
mso-level-number-format:bullet;
mso-level-suffix:tab;
mso-level-text:\F06C;
mso-level-tab-stop:102.0000pt;
mso-level-number-position:left;
margin-left:102.0000pt; text-indent:-18.0000pt; font-family:Wingdings; }

@list l18:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:81.0000pt;
mso-level-number-position:left;
margin-left:81.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l19:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1.";
mso-level-tab-stop:102.0000pt;
mso-level-number-position:left;
margin-left:102.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l20:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1．";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:21.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l20:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level1{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%1、";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:18.0000pt; text-indent:-18.0000pt; font-family:'Times New Roman'; }

@list l21:level2{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%2)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:42.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level3{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%3.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:63.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level4{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%4.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:84.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level5{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%5)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:105.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level6{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%6.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:126.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level7{
mso-level-number-format:decimal;
mso-level-suffix:tab;
mso-level-text:"%7.";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:147.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level8{
mso-level-number-format:alpha-lower;
mso-level-suffix:tab;
mso-level-text:"%8)";
mso-level-tab-stop:none;
mso-level-number-position:left;
margin-left:168.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

@list l21:level9{
mso-level-number-format:lower-roman;
mso-level-suffix:tab;
mso-level-text:"%9.";
mso-level-tab-stop:none;
mso-level-number-position:right;
margin-left:189.0000pt; text-indent:-21.0000pt; font-family:'Times New Roman'; }

p.MsoNormal{
mso-style-name:正文;
mso-style-parent:"";
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-size:10.5000pt;
mso-font-kerning:1.0000pt;
}

h1{
mso-style-name:"标题 1";
mso-style-next:正文;
margin-top:17.0000pt;
margin-bottom:16.5000pt;
margin-left:21.6000pt;
text-indent:-21.6000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:1;
line-height:240%;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:22.0000pt;
mso-font-kerning:22.0000pt;
}

h2{
mso-style-name:"标题 2";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:13.0000pt;
margin-bottom:13.0000pt;
margin-left:28.8000pt;
text-indent:-28.8000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:2;
line-height:173%;
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:16.0000pt;
mso-font-kerning:1.0000pt;
}

h3{
mso-style-name:"标题 3";
margin-top:5.0000pt;
margin-bottom:5.0000pt;
margin-left:36.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
text-indent:-36.0000pt;
mso-pagination:widow-orphan;
text-align:left;
mso-outline-level:3;
font-family:宋体;
font-weight:bold;
font-size:13.5000pt;
}

h4{
mso-style-name:"标题 4";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:14.0000pt;
margin-bottom:14.5000pt;
margin-left:43.2000pt;
text-indent:-43.2000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:4;
line-height:156%;
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:14.0000pt;
mso-font-kerning:1.0000pt;
}

h5{
mso-style-name:"标题 5";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:14.0000pt;
margin-bottom:14.5000pt;
margin-left:50.4000pt;
text-indent:-50.4000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:5;
line-height:156%;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:14.0000pt;
mso-font-kerning:1.0000pt;
}

h6{
mso-style-name:"标题 6";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:12.0000pt;
margin-bottom:3.2000pt;
margin-left:57.6000pt;
text-indent:-57.6000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:6;
line-height:133%;
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:12.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoHeading7{
mso-style-name:"标题 7";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:12.0000pt;
margin-bottom:3.2000pt;
margin-left:64.8000pt;
text-indent:-64.8000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:7;
line-height:133%;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:12.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoHeading8{
mso-style-name:"标题 8";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:12.0000pt;
margin-bottom:3.2000pt;
margin-left:72.0000pt;
text-indent:-72.0000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:8;
line-height:133%;
font-family:Cambria;
mso-fareast-font-family:宋体;
font-size:12.0000pt;
mso-font-kerning:1.0000pt;
}

p.Msoheading9{
mso-style-name:"标题 9";
mso-style-noshow:yes;
mso-style-next:正文;
margin-top:12.0000pt;
margin-bottom:3.2000pt;
margin-left:79.2000pt;
text-indent:-79.2000pt;
page-break-after:avoid;
mso-pagination:lines-together;
text-align:justify;
text-justify:inter-ideograph;
mso-outline-level:9;
line-height:133%;
font-family:Cambria;
mso-fareast-font-family:宋体;
font-size:10.5000pt;
mso-font-kerning:1.0000pt;
}

span.10{
font-family:'Times New Roman';
}

span.15{
font-family:'Times New Roman';
font-weight:bold;
}

span.16{
font-family:'Times New Roman';
}

span.17{
font-family:'Times New Roman';
font-weight:bold;
font-size:22.0000pt;
mso-font-kerning:22.0000pt;
}

span.18{
font-family:'Times New Roman';
}

span.19{
font-family:'Times New Roman';
color:rgb(128,0,128);
text-decoration:underline;
text-underline:single;
}

span.20{
font-family:Cambria;
mso-fareast-font-family:宋体;
}

span.21{
font-family:宋体;
font-size:12.0000pt;
}

span.22{
font-family:'Times New Roman';
}

span.23{
font-family:'Times New Roman';
font-style:italic;
}

span.24{
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:12.0000pt;
}

span.25{
font-family:'Times New Roman';
}

span.26{
font-family:'Times New Roman';
}

span.27{
font-family:'Times New Roman';
color:rgb(0,0,255);
text-decoration:underline;
text-underline:single;
}

span.28{
font-family:'Times New Roman';
}

span.29{
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:16.0000pt;
}

span.30{
font-family:'Times New Roman';
}

span.31{
font-family:'Times New Roman';
font-size:9.0000pt;
}

span.32{
font-family:'Times New Roman';
}

span.33{
font-family:Cambria;
mso-fareast-font-family:宋体;
font-weight:bold;
font-size:14.0000pt;
}

span.34{
font-family:'Times New Roman';
}

span.35{
font-family:'Times New Roman';
font-size:9.0000pt;
}

span.36{
font-family:'Times New Roman';
}

span.37{
font-family:'Times New Roman';
font-weight:bold;
font-size:14.0000pt;
}

span.38{
font-family:'Times New Roman';
}

span.39{
font-family:'Times New Roman';
font-size:9.0000pt;
}

span.40{
font-family:'Times New Roman';
font-weight:bold;
font-size:12.0000pt;
}

span.41{
font-family:宋体;
font-size:9.0000pt;
}

span.42{
font-family:宋体;
font-weight:bold;
font-size:13.5000pt;
}

span.43{
font-family:'Times New Roman';
}

span.44{
font-family:Cambria;
mso-fareast-font-family:宋体;
font-size:12.0000pt;
}

span.45{
font-family:'Times New Roman';
}

p.MsoDocumentMap{
mso-style-name:文档结构图;
mso-style-noshow:yes;
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:宋体;
mso-hansi-font-family:Calibri;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoHeader{
mso-style-name:页眉;
mso-style-noshow:yes;
margin:0pt;
margin-bottom:.0001pt;
border-bottom:0.7500pt solid windowtext;
mso-border-bottom-alt:0.7500pt solid windowtext;
padding:0pt 0pt 1pt 0pt ;
layout-grid-mode:char;
mso-pagination:none;
text-align:center;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoAcetate{
mso-style-name:批注框文本;
mso-style-noshow:yes;
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.MsoFooter{
mso-style-name:页脚;
mso-style-noshow:yes;
margin:0pt;
margin-bottom:.0001pt;
layout-grid-mode:char;
mso-pagination:none;
text-align:left;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-size:9.0000pt;
mso-font-kerning:1.0000pt;
}

p.pre{
mso-style-name:"HTML 预设格式";
mso-style-noshow:yes;
margin:0pt;
margin-bottom:.0001pt;
mso-pagination:widow-orphan;
text-align:left;
font-family:宋体;
font-size:12.0000pt;
}

p.p{
mso-style-name:"普通\(网站\)";
mso-style-noshow:yes;
margin-top:5.0000pt;
margin-bottom:5.0000pt;
mso-margin-top-alt:auto;
mso-margin-bottom-alt:auto;
mso-pagination:widow-orphan;
text-align:left;
font-family:宋体;
font-size:12.0000pt;
}

p.NewStyle52{
mso-style-name:"List Paragraph";
margin:0pt;
margin-bottom:.0001pt;
text-indent:21.0000pt;
mso-char-indent-count:2.0000;
mso-pagination:none;
text-align:justify;
text-justify:inter-ideograph;
font-family:Calibri;
mso-fareast-font-family:宋体;
font-size:10.5000pt;
mso-font-kerning:1.0000pt;
}

p.NewStyle53{
mso-style-name:p01;
margin-top:7.5000pt;
margin-bottom:7.5000pt;
mso-pagination:widow-orphan;
text-align:left;
font-family:宋体;
font-size:12.0000pt;
}

span.msoIns{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:underline;
text-underline:single;
color:blue;
}

span.msoDel{
mso-style-type:export-only;
mso-style-name:"";
text-decoration:line-through;
color:red;
}

table.MsoNormalTable{
mso-style-name:普通表格;
mso-style-parent:"";
mso-style-noshow:yes;
mso-tstyle-rowband-size:0;
mso-tstyle-colband-size:0;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}

table.MsoTableLightShading{
mso-style-name:浅色底纹;
mso-tstyle-rowband-size:1;
mso-tstyle-colband-size:1;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-border-top-alt:1.0000pt solid rgb(0,0,0);
mso-border-bottom-alt:1.0000pt solid rgb(0,0,0);
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
color:rgb(0,0,0);
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}

table.MsoTableLightShadingFirstRow{
mso-style-name:浅色底纹;
mso-table-condition:first-row;
mso-tstyle-border-top:1.0000pt solid rgb(0,0,0);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:1.0000pt solid rgb(0,0,0);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingLastRow{
mso-style-name:浅色底纹;
mso-table-condition:last-row;
mso-tstyle-border-top:1.0000pt solid rgb(0,0,0);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:1.0000pt solid rgb(0,0,0);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingFirstCol{
mso-style-name:浅色底纹;
mso-table-condition:first-column;
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingLastCol{
mso-style-name:浅色底纹;
mso-table-condition:last-column;
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingOddColumn{
mso-style-name:浅色底纹;
mso-table-condition:odd-column;
mso-tstyle-shading:rgb(192,192,192);
mso-tstyle-border-top:31.8750pt none rgb(255,255,255);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:31.8750pt none rgb(255,255,255);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
}

table.MsoTableLightShadingOddRow{
mso-style-name:浅色底纹;
mso-table-condition:odd-row;
mso-tstyle-shading:rgb(192,192,192);
mso-tstyle-border-top:31.8750pt none rgb(255,255,255);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:31.8750pt none rgb(255,255,255);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
}

table.MsoTableLightShadingAccent3{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-tstyle-rowband-size:1;
mso-tstyle-colband-size:1;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-border-top-alt:1.0000pt solid rgb(128,100,162);
mso-border-bottom-alt:1.0000pt solid rgb(128,100,162);
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
color:rgb(94,72,121);
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}

table.MsoTableLightShadingAccent3FirstRow{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:first-row;
mso-tstyle-border-top:1.0000pt solid rgb(128,100,162);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:1.0000pt solid rgb(128,100,162);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingAccent3LastRow{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:last-row;
mso-tstyle-border-top:1.0000pt solid rgb(128,100,162);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:1.0000pt solid rgb(128,100,162);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingAccent3FirstCol{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:first-column;
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingAccent3LastCol{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:last-column;
font-family:'Times New Roman';
font-weight:bold;
}

table.MsoTableLightShadingAccent3OddColumn{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:odd-column;
mso-tstyle-shading:rgb(223,216,232);
mso-tstyle-border-top:31.8750pt none rgb(255,255,255);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:31.8750pt none rgb(255,255,255);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
}

table.MsoTableLightShadingAccent3OddRow{
mso-style-name:"浅色底纹 - 强调文字颜色 4";
mso-table-condition:odd-row;
mso-tstyle-shading:rgb(223,216,232);
mso-tstyle-border-top:31.8750pt none rgb(255,255,255);
mso-tstyle-border-left:31.8750pt none rgb(255,255,255);
mso-tstyle-border-bottom:31.8750pt none rgb(255,255,255);
mso-tstyle-border-right:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-down:31.8750pt none rgb(255,255,255);
mso-tstyle-diagonal-up:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insideh:31.8750pt none rgb(255,255,255);
mso-tstyle-border-insidev:31.8750pt none rgb(255,255,255);
}

table.MsoTableGrid{
mso-style-name:网格型;
mso-tstyle-rowband-size:0;
mso-tstyle-colband-size:0;
mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt;
mso-border-top-alt:0.5000pt solid windowtext;
mso-border-left-alt:0.5000pt solid windowtext;
mso-border-bottom-alt:0.5000pt solid windowtext;
mso-border-right-alt:0.5000pt solid windowtext;
mso-border-insideh:0.5000pt solid windowtext;
mso-border-insidev:0.5000pt solid windowtext;
mso-para-margin:0pt;
mso-para-margin-bottom:.0001pt;
mso-pagination:widow-orphan;
font-family:'Times New Roman';
font-size:10.0000pt;
mso-ansi-language:#0400;
mso-fareast-language:#0400;
mso-bidi-language:#0400;
}
@page{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}@page Section0{
margin-top:72.0000pt;
margin-bottom:72.0000pt;
margin-left:90.0000pt;
margin-right:90.0000pt;
size:595.3000pt 841.9000pt;
layout-grid:15.6000pt;
}
div.Section0{page:Section0;}</style></head><body style="tab-interval:21pt; text-justify-trim:punctuation; " ><!--StartFragment--><div class="Section0"  style="layout-grid:15.6000pt; " ><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >&nbsp;LVS<font face="宋体" >介绍</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >简介</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >负载均衡技术有很多实现方案，有基于<font face="Verdana" >DNS</font><font face="宋体" >域名轮流解析的方法、有基于客户端调度访问的方法、有基于应用层系统负载的调度方法，还有基于</font><font face="Verdana" >IP</font><font face="宋体" >地址的调度方法</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >。本文介绍基于传输层的负载均衡器<font face="Verdana" >LVS</font><font face="宋体" >。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >是</font><font face="Verdana" >Linux&nbsp;Virtual&nbsp;Server</font><font face="宋体" >的简称，也就是</font><font face="Verdana" >Linux</font><font face="宋体" >虚拟服务器</font><font face="Verdana" >,&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >用现在的观点来看就是个<font face="Verdana" >4</font><font face="宋体" >层（传输层</font><font face="Verdana" >tcp/udp</font><font face="宋体" >）的负责均衡器。&nbsp;它</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >是一个由章文嵩博士发起的自由软件项目，它的官方站点是</span><span><a href="http://www.linuxvirtualserver.org/" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >www.linuxvirtualserver.org</span></a></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >。现在<font face="Verdana" >LVS</font><font face="宋体" >已经是&nbsp;</font><font face="Verdana" >Linux</font><font face="宋体" >标准内核的一部分，在</font><font face="Verdana" >Linux2.4</font><font face="宋体" >内核以前，使用</font><font face="Verdana" >LVS</font><font face="宋体" >时必须要重新编译内核以支持</font><font face="Verdana" >LVS</font><font face="宋体" >功能模块，但是从</font><font face="Verdana" >Linux2.4</font><font face="宋体" >内核以后，已经完全内置了</font><font face="Verdana" >LVS</font><font face="宋体" >的各个功能模块，无需给内核打任何补丁，可以直接使用</font><font face="Verdana" >LVS</font><font face="宋体" >提供的各种功能。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >技术要达到的目标是：通过</font><font face="Verdana" >LVS</font><font face="宋体" >提供的负载均衡技术和</font><font face="Verdana" >Linux</font><font face="宋体" >操作系统实现一个高性能、高可用的服务器群集，它具有良好可靠性、可扩展性和可操作性。从而以低廉的成本实现最优的服务性能。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >自从</font><font face="Verdana" >1998</font><font face="宋体" >年开始，发展到现在已经是一个比较成熟的技术项目了。可以利用</font><font face="Verdana" >LVS</font><font face="宋体" >技术实现高可伸缩的、高可用的网络服务，例如</font><font face="Verdana" >WWW</font><font face="宋体" >服务、</font><font face="Verdana" >Cache</font><font face="宋体" >服务、</font><font face="Verdana" >DNS</font><font face="宋体" >服务、</font><font face="Verdana" >FTP</font><font face="宋体" >服务、</font><font face="Verdana" >MAIL</font><font face="宋体" >服务、视频</font><font face="Verdana" >/</font><font face="宋体" >音频点播服务等等，有许多比较著名网站和组织都在使用</font><font face="Verdana" >LVS</font><font face="宋体" >架设的集群系统，例如：</font><font face="Verdana" >Linux</font><font face="宋体" >的门户网站（</font></span><span><a href="http://www.linux.com/" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >www.linux.com</span></a></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >）、向<font face="Verdana" >RealPlayer</font><font face="宋体" >提供音频视频服务而闻名的</font><font face="Verdana" >Real</font><font face="宋体" >公司（</font></span><span><a href="http://www.real.com/" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >www.real.com</span></a></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >）、全球最大的开源网站（<font face="Verdana" >sourceforge.net</font><font face="宋体" >）等。</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >主要功能</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal  style="text-indent:21.0000pt; mso-char-indent-count:2.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >目前有三种<font face="Verdana" >IP</font><font face="宋体" >负载均衡技术（</font><font face="Verdana" >VS/NAT</font><font face="宋体" >、</font><font face="Verdana" >VS/TUN</font><font face="宋体" >和</font><font face="Verdana" >VS/DR</font><font face="宋体" >）；十种调度算法（</font><font face="Verdana" >rrr|wrr|lc|wlc|lblc|lblcr|dh|sh|sed|nq</font><font face="宋体" >）</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;优点</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.3.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >功能特性</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1<font face="宋体" >、抗负载能力强、是工作在网络</font><font face="Verdana" >4</font><font face="宋体" >层之上仅作分发之用，没有流量的产生；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >2<font face="宋体" >、配置性比较低，这是一个缺点也是一个优点，因为没有可太多配置的东西，所以并不需要太多接触，大大减少了人为出错的几率；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >3<font face="宋体" >、工作稳定，自身有完整的双机热备方案；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >4<font face="宋体" >、无流量，保证了均衡器</font><font face="Verdana" >IO</font><font face="宋体" >的性能不会收到大流量的影响；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >5<font face="宋体" >、应用范围比较广，可以对所有应用做负载均衡；</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.3.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >高可用性</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:21.0000pt; mso-char-indent-count:2.0000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >是一个基于内核级别的应用软件，因此具有很高的处理性能，用</font><font face="Verdana" >LVS</font><font face="宋体" >构架的负载均衡集群系统具有优秀的处理能力，每个服务节点的故障不会影响整个系统的正常使用，同时又实现负载的合理均衡，使应用具有超高负荷的服务能力，可支持上百万个并发连接请求。如配置百兆网卡，采用</font><font face="Verdana" >VS/TUN</font><font face="宋体" >或</font><font face="Verdana" >VS/DR</font><font face="宋体" >调度技术，整个集群系统的吞吐量可高达</font><font face="Verdana" >1Gbits/s</font><font face="宋体" >；如配置千兆网卡，则系统的最大吞吐量可接近</font><font face="Verdana" >10Gbits/s</font><font face="宋体" >。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.3.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;高可靠性</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >负载均衡集群软件已经在企业、学校等行业得到了很好的普及应用，国内外很多大型的、关键性的</font><font face="Verdana" >web</font><font face="宋体" >站点也都采用了</font><font face="Verdana" >LVS</font><font face="宋体" >集群软件，所以它的可靠性在实践中得到了很好的证实。有很多以</font><font face="Verdana" >LVS</font><font face="宋体" >做的负载均衡系统，运行很长时间，从未做过重新启动。这些都说明了</font><font face="Verdana" >LVS</font><font face="宋体" >的高稳定性和高可靠性。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.3.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >适用环境</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >对前端</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >目前仅支持</font><font face="Verdana" >Linux</font><font face="宋体" >和</font><font face="Verdana" >FreeBSD</font><font face="宋体" >系统，但是支持大多数的</font><font face="Verdana" >TCP</font><font face="宋体" >和</font><font face="Verdana" >UDP</font><font face="宋体" >协议，支持</font><font face="Verdana" >TCP</font><font face="宋体" >协议的应用有：</font><font face="Verdana" >HTTP</font><font face="宋体" >，</font><font face="Verdana" >HTTPS&nbsp;</font><font face="宋体" >，</font><font face="Verdana" >FTP</font><font face="宋体" >，</font><font face="Verdana" >SMTP</font><font face="宋体" >，，</font><font face="Verdana" >POP3</font><font face="宋体" >，</font><font face="Verdana" >IMAP4</font><font face="宋体" >，</font><font face="Verdana" >PROXY</font><font face="宋体" >，</font><font face="Verdana" >LDAP</font><font face="宋体" >，</font><font face="Verdana" >SSMTP</font><font face="宋体" >等等。支持</font><font face="Verdana" >UDP</font><font face="宋体" >协议的应用有：</font><font face="Verdana" >DNS</font><font face="宋体" >，</font><font face="Verdana" >NTP</font><font face="宋体" >，</font><font face="Verdana" >ICP</font><font face="宋体" >，视频、音频流播放协议等。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >对</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >的操作系统没有任何限制，</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >可运行在任何支持</font><font face="Verdana" >TCP/IP</font><font face="宋体" >的操作系统上，包括</font><font face="Verdana" >Linux</font><font face="宋体" >，各种</font><font face="Verdana" >Unix</font><font face="宋体" >（如</font><font face="Verdana" >FreeBSD</font><font face="宋体" >、</font><font face="Verdana" >Sun&nbsp;Solaris</font><font face="宋体" >、</font><font face="Verdana" >HP&nbsp;Unix</font><font face="宋体" >等），</font><font face="Verdana" >Mac/OS</font><font face="宋体" >和</font><font face="Verdana" >Windows</font><font face="宋体" >等。</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >缺点</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >需要网络环境的支持</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >不能针对上层协议分析</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >如果做成硬件会更完美</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.5<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >类似产品</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.5.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >介绍</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >现在网络中常见的负载均衡主要分为两种：一种是通过硬件来进行进行，常见的硬件有比较昂贵的<font face="Verdana" >NetScaler</font><font face="宋体" >、</font><font face="Verdana" >F5</font><font face="宋体" >、</font><font face="Verdana" >Radware</font><font face="宋体" >和</font><font face="Verdana" >Array</font><font face="宋体" >等商用的负载均衡器，也有类似于</font><font face="Verdana" >LVS</font><font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >、</font><font face="Verdana" >HAproxy</font><font face="宋体" >的基于</font><font face="Verdana" >Linux</font><font face="宋体" >的开源的负载均衡策略</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >。</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >商用负载均衡里面<font face="Verdana" >NetScaler</font><font face="宋体" >从效果上比</font><font face="Verdana" >F5</font><font face="宋体" >的效率上更高。对于负载均衡器来说，不过商用负载均衡由于可以建立在四</font><font face="Verdana" >~</font><font face="宋体" >七层&nbsp;协议之上，因此适用&nbsp;面更广所以有其不可替代性，他的优点就是有专业的维护团队来对这些服务进行维护、缺点就是花销太大，所以对于规模较小的网络服务来说暂时还没有需要使用。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >另一种负载均衡的方式是通过软件：比较常见的有<font face="Verdana" >LVS</font><font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >、</font><font face="Verdana" >HAproxy</font><font face="宋体" >等，其中</font><font face="Verdana" >LVS</font><font face="宋体" >是建立在四层协议上面的，而另外</font><font face="Verdana" >Nginx</font><font face="宋体" >和</font><font face="Verdana" >HAproxy</font><font face="宋体" >是建立在七层协议之上的，下面分别介绍关于</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Nginx<font face="宋体" >的特点是：</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1<font face="宋体" >、工作在网络的</font><font face="Verdana" >7</font><font face="宋体" >层之上，可以针对</font><font face="Verdana" >http</font><font face="宋体" >应用做一些分流的策略，比如针对域名、目录结构；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >2<font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >对网络的依赖比较小；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >3<font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >安装和配置比较简单，测试起来比较方便；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >4<font face="宋体" >、也可以承担高的负载压力且稳定，一般能支撑超过</font><font face="Verdana" >1</font><font face="宋体" >万次的并发；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >5<font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >可以通过端口检测到服务器内部的故障，比如根据服务器处理网页返回的状态码、超时等等，并且会把返回错误的请求重新提交到另一个节点，不过其中缺点就是不支持</font><font face="Verdana" >url</font><font face="宋体" >来检测；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >6<font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >对请求的异步处理可以帮助节点服务器减轻负载；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >7<font face="宋体" >、</font><font face="Verdana" >Nginx</font><font face="宋体" >能支持</font><font face="Verdana" >http</font><font face="宋体" >和</font><font face="Verdana" >Email</font><font face="宋体" >，这样就在适用范围上面小很多；</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >8<font face="宋体" >、不支持</font><font face="Verdana" >Session</font><font face="宋体" >的保持、对</font><font face="Verdana" >Big&nbsp;request&nbsp;header</font><font face="宋体" >的支持不是很好，另外默认的只有</font><font face="Verdana" >Round-robin</font><font face="宋体" >和</font><font face="Verdana" >IP-hash</font><font face="宋体" >两种负载均衡算法。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >HAProxy<font face="宋体" >的特点是：</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1<font face="宋体" >、</font><font face="Verdana" >HAProxy</font><font face="宋体" >是工作在网络</font><font face="Verdana" >7</font><font face="宋体" >层之上。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >2<font face="宋体" >、能够补充</font><font face="Verdana" >Nginx</font><font face="宋体" >的一些缺点比如</font><font face="Verdana" >Session</font><font face="宋体" >的保持，</font><font face="Verdana" >Cookie</font><font face="宋体" >的引导等工作</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >3<font face="宋体" >、支持</font><font face="Verdana" >url</font><font face="宋体" >检测后端的服务器出问题的检测会有很好的帮助。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >4<font face="宋体" >、更多的负载均衡策略比如：动态加权轮循</font><font face="Verdana" >(Dynamic&nbsp;Round&nbsp;Robin)</font><font face="宋体" >，加权源地址哈希</font><font face="Verdana" >(Weighted&nbsp;Source&nbsp;Hash)</font><font face="宋体" >，加权</font><font face="Verdana" >URL</font><font face="宋体" >哈希和加权参数哈希</font><font face="Verdana" >(Weighted&nbsp;Parameter&nbsp;Hash)</font><font face="宋体" >已经实现</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >5<font face="宋体" >、单纯从效率上来讲</font><font face="Verdana" >HAProxy</font><font face="宋体" >更会比</font><font face="Verdana" >Nginx</font><font face="宋体" >有更出色的负载均衡速度。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >6<font face="宋体" >、</font><font face="Verdana" >HAProxy</font><font face="宋体" >可以对</font><font face="Verdana" >Mysql</font><font face="宋体" >进行负载均衡，对后端的</font><font face="Verdana" >DB</font><font face="宋体" >节点进行检测和负载均衡。</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1.5.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >软负载均衡器性能对比</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><img width="554"  height="171"  src="lvs.files/lvs2815.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >上图是网上的数据，<font face="Verdana" >LVS</font><font face="宋体" >的实际性能可能没有展示出来，肯定要比</font><font face="Verdana" >Nginx</font><font face="宋体" >的并发量高。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h1 style="line-height:24.0000pt; mso-list:l8 level1 lfo1; " ><a name="top" ></a><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >&nbsp;LVS<font face="宋体" >原理篇</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >工作模式</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >的</font><font face="Verdana" >IP</font><font face="宋体" >负载均衡技术是通过</font><font face="Verdana" >IPVS</font><font face="宋体" >模块来实现的，</font><font face="Verdana" >IPVS</font><font face="宋体" >是</font><font face="Verdana" >LVS</font><font face="宋体" >集群系统的核心软件，它的主要作用是：安装在</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >上，同时在</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >上虚拟出一个</font><font face="Verdana" >IP</font><font face="宋体" >地址，用户必须通过这个虚拟的</font><font face="Verdana" >IP</font><font face="宋体" >地址访问服务。这个虚拟</font><font face="Verdana" >IP</font><font face="宋体" >一般称为</font><font face="Verdana" >LVS</font><font face="宋体" >的</font><font face="Verdana" >VIP</font><font face="宋体" >，即</font><font face="Verdana" >Virtual&nbsp;IP</font><font face="宋体" >。访问的请求首先经过</font><font face="Verdana" >VIP</font><font face="宋体" >到达负载调度器，然后由负载调度器从</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >列表中选取一个服务节点响应用户的请求。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >当用户的请求到达负载调度器后，调度器如何将请求发送到提供服务的<font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >节点，而</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >节点如何返回数据给用户，是</font><font face="Verdana" >IPVS</font><font face="宋体" >实现的重点技术，</font><font face="Verdana" >IPVS</font><font face="宋体" >实现负载均衡机制有三种，分别是</font><font face="Verdana" >NAT</font><font face="宋体" >、</font><font face="Verdana" >TUN</font><font face="宋体" >和</font><font face="Verdana" >DR</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >。</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >注意：</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >director&nbsp;server&nbsp;<font face="宋体" >、</font><font face="Verdana" >ld&nbsp;</font><font face="宋体" >、</font><font face="Verdana" >lvs</font><font face="宋体" >负责均衡器、调度器都是同一个概念</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver&nbsp;<font face="宋体" >、后端服务器也代表一个意思。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; " ><span style='mso-list:Ignore; ' >2.1.1<span>&nbsp;</span></span></span><![endif]><span class="15"  style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; " >转发机制</span><span class="15"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; font-weight:bold; " ><o:p></o:p></span></h3><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; " ><span style='mso-list:Ignore; ' >2.1.1.1<span>&nbsp;</span></span></span><![endif]><span class="15"  style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; " >&nbsp;三种转发机制</span><span class="15"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; font-weight:bold; " ><o:p></o:p></span></h4><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >VS/NAT<font face="宋体" >：&nbsp;即（</font><font face="Verdana" >Virtual&nbsp;Server&nbsp;via&nbsp;Network&nbsp;Address&nbsp;Translation</font><font face="宋体" >）</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >也就是网络地址翻译技术实现虚拟服务器，当用户请求到达调度器时，调度器将请求报文的目标地址（即虚拟<font face="Verdana" >IP</font><font face="宋体" >地址）改写成选定的</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >地址，同时报文的目标端口也改成选定的</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >的相应端口，最后将报文请求发送到选定的</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >。在服务器端得到数据后，</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >返回数据给用户时，需要再次经过负载调度器将报文的源地址和源端口改成虚拟</font><font face="Verdana" >IP</font><font face="宋体" >地址和相应端口，然后把数据发送给用户，完成整个负载调度过程。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >可以看出，在<font face="Verdana" >NAT</font><font face="宋体" >方式下，用户请求和响应报文都必须经过</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >地址重写，当用户请求越来越多时，调度器的处理能力将称为瓶颈。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;VS/TUN&nbsp;<font face="宋体" >：即（</font><font face="Verdana" >Virtual&nbsp;Server&nbsp;via&nbsp;IP&nbsp;Tunneling</font><font face="宋体" >）</font></span><span style="mso-spacerun:'yes'; font-family:Symbol; mso-ascii-font-family:Verdana; mso-fareast-font-family:宋体; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#108;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >也就是<font face="Verdana" >IP</font><font face="宋体" >隧道技术实现虚拟服务器。它的连接调度和管理与</font><font face="Verdana" >VS/NAT</font><font face="宋体" >方式一样，只是它的报文转发方法不同，</font><font face="Verdana" >VS/TUN</font><font face="宋体" >方式中，调度器采用</font><font face="Verdana" >IP</font><font face="宋体" >隧道技术将用户请求转发到某个</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >，而这个</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >将直接响应用户的请求，不再经过前端调度器，此外，对</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >的地域位置没有要求，可以和</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >位于同一个网段，也可以是独立的一个网络。因此，在</font><font face="Verdana" >TUN</font><font face="宋体" >方式中，调度器将只处理用户的报文请求，集群系统的吞吐量大大提高。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;VS/DR<font face="宋体" >：&nbsp;即（</font><font face="Verdana" >Virtual&nbsp;Server&nbsp;via&nbsp;Direct&nbsp;Routing</font><font face="宋体" >）</font></span><span style="mso-spacerun:'yes'; font-family:Symbol; mso-ascii-font-family:Verdana; mso-fareast-font-family:宋体; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#108;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >也就是用直接路由技术实现虚拟服务器。它的连接调度和管理与<font face="Verdana" >VS/NAT</font><font face="宋体" >和</font><font face="Verdana" >VS/TUN</font><font face="宋体" >中的一样，但它的报文转发方法又有不同，</font><font face="Verdana" >VS/DR</font><font face="宋体" >通过改写请求报文的</font><font face="Verdana" >MAC</font><font face="宋体" >地址，将请求发送到</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >，而</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >将响应直接返回给客户，免去了</font><font face="Verdana" >VS/TUN</font><font face="宋体" >中的</font><font face="Verdana" >IP</font><font face="宋体" >隧道开销。这种方式是三种负载调度机制中性能最高最好的，但是必须要求</font><font face="Verdana" >Director&nbsp;Server</font><font face="宋体" >与</font><font face="Verdana" >Real&nbsp;Server</font><font face="宋体" >都有一块网卡连在同一物理网段上。</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; " ><span style='mso-list:Ignore; ' >2.1.1.2<span>&nbsp;</span></span></span><![endif]><span class="15"  style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; " >三种</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >转发机制流程</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.1.1.2.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >NAT</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal ><img width="469"  height="435"  src="lvs.files/lvs4185.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l2 level1 lfo2; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端发起请求到<font face="Calibri" >load&nbsp;balancer</font><font face="宋体" >的虚拟</font><font face="Calibri" >ip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l2 level1 lfo2; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;banlancer<font face="宋体" >把客户请的目标地址改写为其中一个</font><font face="Calibri" >real&nbsp;server</font><font face="宋体" >的，源地址改成不变。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l2 level1 lfo2; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >接受请求，并返回给</font><font face="Calibri" >load&nbsp;banlancer</font><font face="宋体" >响应</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l2 level1 lfo2; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;banlancer<font face="宋体" >接受到响应，修改目标地址为不变，源地址改成自己的。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l2 level1 lfo2; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >5.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端接受<font face="Calibri" >loader&nbsp;banlancer</font><font face="宋体" >的响应</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >注意：</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >如果客户端和<font face="Calibri" >realserver</font><font face="宋体" >在同一个网段，不会执行</font><font face="Calibri" >nat</font><font face="宋体" >转换，</font><font face="Calibri" >realserver</font><font face="宋体" >直接返回响应</font><font face="Calibri" >,</font><font face="宋体" >客户端也会拒收此报文。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.1.1.2.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >TUNNEL</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal ><img width="492"  height="471"  src="lvs.files/lvs4442.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l5 level1 lfo3; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端发起请求到<font face="Calibri" >load&nbsp;balancer</font><font face="宋体" >的虚拟</font><font face="Calibri" >ip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l5 level1 lfo3; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;banlancer<font face="宋体" >把客户的请求包包裹，然后转发给其中的一个</font><font face="Calibri" >real&nbsp;server</font><font face="宋体" >。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l5 level1 lfo3; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >接受请求，解包。得到客户端发来的原始包。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l5 level1 lfo3; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >处理，把结果通过</font><font face="Calibri" >vip</font><font face="宋体" >直接返回给客户端。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l5 level1 lfo3; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >5.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端接受<font face="Calibri" >real&nbsp;server</font><font face="宋体" >的响应。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >注意：</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l7 level1 lfo4; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >a.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balancer<font face="宋体" >和</font><font face="Calibri" >realserver&nbsp;</font><font face="宋体" >直接通过</font><font face="Calibri" >ip&nbsp;tunnel</font><font face="宋体" >技术重新封装、解包</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l7 level1 lfo4; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >b.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balancer<font face="宋体" >和&nbsp;</font><font face="Calibri" >realserver&nbsp;</font><font face="宋体" >使用相同的</font><font face="Calibri" >vip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l7 level1 lfo4; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >c.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balnacer<font face="宋体" >和</font><font face="Calibri" >realserver</font><font face="宋体" >可以不再同一个网络</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.1.1.2.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;DR</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal ><img width="505"  height="483"  src="lvs.files/lvs4728.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l9 level1 lfo5; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端发起请求到<font face="Calibri" >load&nbsp;balancer</font><font face="宋体" >的虚拟</font><font face="Calibri" >ip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l9 level1 lfo5; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;banlancer<font face="宋体" >把客户发送的包，修改源</font><font face="Calibri" >mac</font><font face="宋体" >地址为</font><font face="Calibri" >vip</font><font face="宋体" >的，目的</font><font face="Calibri" >mac</font><font face="宋体" >地址为</font><font face="Calibri" >realserver</font><font face="宋体" >的，然后发送给</font><font face="Calibri" >realserver</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l9 level1 lfo5; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >接受请求</font><font face="Calibri" >,</font><font face="宋体" >并处理，然后把结果通过</font><font face="Calibri" >vip</font><font face="宋体" >直接返回给客户端。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l9 level1 lfo5; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端接受<font face="Calibri" >real&nbsp;server</font><font face="宋体" >的响应。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >注意</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l4 level1 lfo6; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >a.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balancer<font face="宋体" >和&nbsp;</font><font face="Calibri" >realserver&nbsp;</font><font face="宋体" >使用相同的</font><font face="Calibri" >vip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l4 level1 lfo6; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >b.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balancer<font face="宋体" >和</font><font face="Calibri" >realserver</font><font face="宋体" >必须在同一个网络，因为</font><font face="Calibri" >load&nbsp;balancer</font><font face="宋体" >需要知道</font><font face="Calibri" >realserver</font><font face="宋体" >的</font><font face="Calibri" >mac</font><font face="宋体" >地址。&nbsp;&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.1.1.2.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >LVS-DR<font face="宋体" >工作原理详解</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;(51CTO)</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; text-indent:6.0000pt; mso-char-indent-count:0.5000; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >如下图所示：VS/DR的体系结构：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:center; " ><img width="499"  height="353"  src="lvs.files/lvs5040.png" ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >我将结合这幅原理图及具体的实例来讲解一下LVS-DR的原理，包括数据包、数据帧的走向和转换过程。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >官方的原理说明：Director接收用户的请求，然后根据负载均衡算法选取一台realserver，将包转发过去，最后由realserver直接回复给用户。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >实例场景设备清单：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:center; " ><img width="499"  height="71"  src="lvs.files/lvs5179.png" ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >说明：我这里为了方便，client是与vip同一网段的机器。如果是外部的用户访问，将client替换成gateway即可，因为IP包头是不变的，变的只是源mac地址。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9312;&#160;client向目标vip发出请求，Director接收。此时IP包头及数据帧头信息如下：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:center; " ><img width="499"  height="117"  src="lvs.files/lvs5312.png" ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9313;&nbsp;VS根据负载均衡算法选择一台active的realserver(假设是192.168.57.122)，将此RIP所在网卡的mac地址作为目标mac地址，发送到局域网里。此时IP包头及数据帧头信息如下：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:center; " ><img width="499"  height="121"  src="lvs.files/lvs5417.png" ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9314;&#160;realserver(192.168.57.122)在局域网中收到这个帧，拆开后发现目标IP(VIP)与本地匹配，于是处理这个报文。随后重新封装报文，发送到局域网。此时IP包头及数据帧头信息如下：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:center; " ><img width="499"  height="121"  src="lvs.files/lvs5520.png" ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9315;&#160;如果client与VS同一网段，那么client(192.168.57.135)将收到这个回复报文。如果跨了网段，那么报文通过gateway/路由器经由Internet返回给用户。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >说明：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lvs<font face="宋体" >的作者对这个写了详细的描述，请参考&nbsp;</font><font face="Calibri" >http://www.linuxvirtualserver.org/zh/lvs3.html&nbsp;LVS</font><font face="宋体" >集群中的</font><font face="Calibri" >IP</font><font face="宋体" >负载均衡技术</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; " ><span style='mso-list:Ignore; ' >2.1.1.3<span>&nbsp;</span></span></span><![endif]><span class="15"  style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; " >三种转发机制的优缺点</span><span class="15"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; font-weight:bold; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9670;Virtual&nbsp;Server&nbsp;via&nbsp;NAT</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >VS/NAT&nbsp;的优点是服务器可以运行任何支持TCP/IP的操作系统，它只需要一个IP地址配置在LVS主机上，服务器组可以用私有的IP地址。缺点是它的扩充能力有限，当服务器结点数目升到20时，LVS主机本身有可能成为系统的新瓶颈，因为在VS/NAT中请求和响应封包都需要通过负载平衡LVS主机。在&nbsp;Pentium&nbsp;166主机上测得重写封包的平均延时为60us，假设TCP封包的平均长度为536&nbsp;Bytes，则LVS主机的最大吞吐量为8.93&nbsp;MBytes/s。再假设每台服务器的吞吐量为600KBytes/s，这样一个LVS主机可以带动16台服务器。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9670;Virtual&nbsp;Server&nbsp;via&nbsp;IP&nbsp;Tunneling</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >在VS/TUN&nbsp;的集群系统中，负载平衡LVS主机只将请求分配到不同的实际服务器，实际服务器将应答的资料直接返回给用户。这样，负载平衡LVS主机就可以处理巨量的请求，而不会成为系统的瓶颈。即使负载平衡LVS主机只有100Mbps的全双工网卡，虚拟服务器的最大吞吐量可以达到几Gbps。所以，VS/TUN可以极大地增加负载平衡LVS主机分配的服务器数量，它可以用来构建高性能超级服务器。VS/TUN技术对服务器的要求是所有的服务器必须支持"IP&nbsp;Tunneling"或者"IP&nbsp;Encapsulation"协议。目前，VS/TUN&nbsp;的后端服务器主要运行Linux操作系统。因为"IP&nbsp;Tunneling"正成为各个操作系统的标准协议，所以VS/TUN也会适用运行其它操作系统的后端服务器。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#9670;Virtual&nbsp;Server&nbsp;via&nbsp;Direct&nbsp;Routing</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >同VS/TUN&nbsp;一样，VS/DRLVS主机只处理客户到服务器端的连接，响应资料可以直接从独立的网络路由返回给客户。这可以极大地提高LVS集群系统的伸缩性。同&nbsp;VS/TUN相比，这种方法没有IP隧道的开销，但是要求负载平衡LVS主机与实际服务器都有一块网卡连在同一物理网段上，服务器网络设备或者设备别名不作&nbsp;ARP&nbsp;响应。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; " ><span style='mso-list:Ignore; ' >2.1.1.4<span>&nbsp;</span></span></span><![endif]><span class="15"  style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; " >结论</span><span class="15"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; font-weight:bold; " ><o:p></o:p></span></h4><table class=MsoTableGrid  style="border-collapse:collapse; width:426.1000pt; mso-table-layout-alt:fixed; mso-padding-alt:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; " ><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:0.5000pt solid windowtext; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:center; " ><span style="font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:0.5000pt solid windowtext; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:center; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >VS/NAT</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:0.5000pt solid windowtext; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:center; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >VS/TUN</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:0.5000pt solid windowtext; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:center; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >VS/DR</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >服务器(OS)</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >任意</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >支持隧道</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >多数(支持Non-arp&nbsp;)</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >服务器网络</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >私有网络</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >局域网/广域网</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >局域网</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >服务器数目(100M网络)</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >10~20</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >100</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >多(100)</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >服务器网关</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >负载均衡器</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >自己的路由</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >自己的路由</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr><tr><td width=183  valign=top  style="width:137.3000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:0.5000pt solid windowtext; mso-border-left-alt:0.5000pt solid windowtext; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >效率</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=96  valign=top  style="width:72.6500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >一般</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=121  valign=top  style="width:91.1500pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >高</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td><td width=166  valign=top  style="width:125.0000pt; padding:0.0000pt 5.4000pt 0.0000pt 5.4000pt ; border-left:none; ; mso-border-left-alt:none; ; border-right:0.5000pt solid windowtext; mso-border-right-alt:0.5000pt solid windowtext; border-top:none; ; mso-border-top-alt:0.5000pt solid windowtext; border-bottom:0.5000pt solid windowtext; mso-border-bottom-alt:0.5000pt solid windowtext; " ><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >最高</span><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p></td></tr></table><p class=MsoNormal  style="margin-top:5.0000pt; margin-bottom:5.0000pt; mso-margin-top-alt:auto; mso-margin-bottom-alt:auto; text-indent:24.0000pt; mso-char-indent-count:2.0000; mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >三种IP负载均衡技术中特别是后两种技术VS/TUN，VS/DR极大地提高系统的伸缩性</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >。</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; color:rgb(51,51,51); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >2.1.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >调度算法</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:24.0000pt; mso-char-indent-count:2.0000; mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >Director在接收到来自于Client的请求时，会基于"schedule"从RealServer中选择一个响应给Client。ipvs支持以下调度算法：（1、2为静态调度算法，3、4、5、6、7、8为动态调度算法）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); mso-list:l21 level1 lfo7; " ><![if !supportLists]><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >1、<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >轮询（round&nbsp;robin,&nbsp;rr)</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:25.1000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); mso-list:l0 level1 lfo8; " ><![if !supportLists]><span style="font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >2．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&nbsp;加权轮询(Weighted&nbsp;round&nbsp;robin,&nbsp;wrr)&#8212;&#8212;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >新的连接请求被轮流分配至各RealServer；算法的优点是其简洁性，它无需记录当前所有连接的状态，所以它是一种无状态调度。轮叫调度算法假设所有服务器处理性能均相同，不管服务器的当前连接数和响应速度。该算法相对简单，不适用于服务器组中处理性能不一的情况，而且当请求服务时间变化比较大时，轮叫调度算法容易导致服务器间的负载不平衡。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >2、目标地址散列调度（Destination&nbsp;Hashing，dh）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >算&nbsp;法也是针对目标IP地址的负载均衡，但它是一种静态映射算法，通过一个散列（Hash）函数将一个目标IP地址映射到一台服务器。目标地址散列调度算法先&nbsp;根据请求的目标IP地址，作为散列键（Hash&nbsp;Key）从静态分配的散列表找出对应的服务器，若该服务器是可用的且未超载，将请求发送到该服务器，否则返回空。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >3、源地址散列调度（Source&nbsp;Hashing，sh）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >算&nbsp;法正好与目标地址散列调度算法相反，它根据请求的源IP地址，作为散列键（Hash&nbsp;Key）从静态分配的散列表找出对应的服务器，若该服务器是可用的且未超载，将请求发送到该服务器，否则返回空。它采用的散列函数与目标地址散列调度算法&nbsp;的相同。除了将请求的目标IP地址换成请求的源IP地址外，它的算法流程与目标地址散列调度算法的基本相似。在实际应用中，源地址散列调度和目标地址散列&nbsp;调度可以结合使用在防火墙集群中，它们可以保证整个系统的唯一出入口。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >4、最少连接(least&nbsp;connected,&nbsp;lc)，&nbsp;加权最少连接(weighted&nbsp;least&nbsp;connection,&nbsp;wlc)&#8212;&#8212;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >新的连接请求将被分配至当前连接数最少的RealServer；最小连接调度是一种动态调度算法，它通过服务器当前所活跃的连接数来估计服务器的负载情况。调度器需要记录各个服务器已建立连接的数目，当一个请求被调度到某台服务器，其连接数加1；当连接中止或超时，其连接数减一。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >lc：256*A+I=当前连接数&#160;&nbsp;wlc：（256*A+I）/W=当前连接数&#160;&#160;&nbsp;【A：活动连接数&#160;&nbsp;I:非活动连接数&nbsp;W：权重值】</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >5、基于局部性的最少链接调度（Locality-Based&nbsp;Least&nbsp;Connections&nbsp;Scheduling，lblc）&#8212;&#8212;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >针对请求报文的目标IP地址的负载均衡调度，目前主要用于Cache集群系统，因为在Cache集群中客户请求报文的目标IP地址是变化的。这里假设任何后端服务器都可以处理任一请求，算法的设计目标是在服务器的负载基本平衡情况下，将相同目标IP地址的请求调度到同一台服务器，来提高各台服务器的访问局部性和主存Cache命中率，从而整个集群系统的处理能力。LBLC调度算法先根据请求的目标IP地址找出该目标IP地址最近使用的服务器，若该服务器是可用的且没有超载，将请求发送到该服务器；若服务器不存在，或者该服务器超载且有服务器处于其一半的工作负载，则用&#8220;最少链接&#8221;的原则选出一个可用的服务器，将请求发送到该服务器。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >6、带复制的基于局部性最少链接调度（Locality-Based&nbsp;Least&nbsp;Connections&nbsp;with&nbsp;Replication&nbsp;Scheduling，lblcr）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&#8212;&#8212;也是针对目标IP地址的负载均衡，目前主要用于Cache集群系统。它与LBLC算法的不同之处是它要维护从一个目标IP地址到一组服务器的映射，而&nbsp;LBLC算法维护从一个目标IP地址到一台服务器的映射。对于一个&#8220;热门&#8221;站点的服务请求，一台Cache&nbsp;服务器可能会忙不过来处理这些请求。这时，LBLC调度算法会从所有的Cache服务器中按&#8220;最小连接&#8221;原则选出一台Cache服务器，映射该&#8220;热门&#8221;站点到这台Cache服务器，很快这台Cache服务器也会超载，就会重复上述过程选出新的Cache服务器。这样，可能会导致该&#8220;热门&#8221;站点的映像会出现在所有的Cache服务器上，降低了Cache服务器的使用效率。LBLCR调度算法将&#8220;热门&#8221;站点映射到一组Cache服务器（服务器集合），当该&#8220;热门&#8221;站点的请求负载增加时，会增加集合里的Cache服务器，来处理不断增长的负载；当该&#8220;热门&#8221;站点的请求负载降低时，会减少集合里的Cache服务器数目。这样，该&#8220;热门&#8221;站点的映像不太可能出现在所有的Cache服务器上，从而提供Cache集群系统的使用效率。LBLCR算法先根据请求的目标IP地址找出该目标IP地址对应的服务器组；按&#8220;最小连接&#8221;原则从该服务器组中选出一台服务器，若服务器没有超载，将请求发送到该服务器；若服务器超载；则按&#8220;最小连接&#8221;原则从整个集群中选出一台服务器，将该服务器加入到服务器组中，将请求发送到该服务器。同时，当该服务器组有一段时间没有被修改，将最忙的服务器从服务器组中删除，以降低复制的程度。</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >7、&nbsp;最短的期望的延迟（Shortest&nbsp;Expected&nbsp;Delay&nbsp;Scheduling&nbsp;,sed）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >sed:&nbsp;(A+1)/w=当前连接数</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >8、最少队列调度（Never&nbsp;Queue&nbsp;Scheduling&nbsp;,nq）</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >无需队列。如果有台realserver的连接数＝0就直接分配过去，不需要在进行sed运算</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >四、关于LVS追踪标记fwmark</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; text-align:left; line-height:17.5500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >如果LVS放置于多防火墙的网络中，并且每个防火墙都用到了状态追踪的机制，那么在回应一个针对于LVS的连接请求时必须经过此请求连接进来时的防火墙，否则，这个响应的数据包将会被丢弃</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="line-height:19.2000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >说明：作者写了详细的调度算法优缺点可以查看</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/zh/lvs4.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; font-size:12.0000pt; " >http://www.linuxvirtualserver.org/zh/lvs4.html</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; font-size:12.0000pt; " >&nbsp;&nbsp;</span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; font-size:12.0000pt; " >LVS集群的负载调度</span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; font-size:12.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >LVS<font face="宋体" >配置篇</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >安装&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >从Linux内核版本2.6起，ip_vs&nbsp;code已经被整合进了内核中，因此，只要在编译内核的时候选择了ipvs的功能，您的Linux即能支持LVS。Linux&nbsp;2.4.23以后的内核版本也整合了ip_vs&nbsp;code，但如果是更旧的内核版本，您得自己手动将ip_vs&nbsp;code整合进内核原码中，并重新编译内核方可使用lvs。&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:24.0000pt; mso-char-indent-count:2.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " >ipvsadm是用来与ipvs交互的命令行工具，它</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " >的作用表</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " >现在：</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " >1、定义在Director上进行dispatching的服务(service)，以及哪此服务器(server)用来提供此服务；</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:1.0000pt; " >2、为每台同时提供某一种服务的服务器定义其权重（即概据服务器性能确定的其承担负载的能力）&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l3 level1 lfo9; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看版本</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="554"  height="116"  src="lvs.files/lvs9677.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l3 level1 lfo9; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >内核是否支持<font face="Calibri" >ipvs</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >modprobe&nbsp;-l&nbsp;|grep&nbsp;ipvs</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >表明系统内核已经默认支持了<font face="Calibri" >IPVS</font><font face="宋体" >模块。接着就可以安装</font><font face="Calibri" >IPVS</font><font face="宋体" >管理软件了</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="393"  height="212"  src="lvs.files/lvs9750.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l3 level1 lfo9; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >安装<font face="Calibri" >ipvs</font><font face="宋体" >的管理软件</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >直接通过软件库安装</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >centos</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="296"  height="29"  src="lvs.files/lvs9782.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >suse</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="215"  height="35"  src="lvs.files/lvs9789.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >基于源代码构建</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="554"  height="19"  src="lvs.files/lvs9801.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="393"  height="78"  src="lvs.files/lvs9804.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="554"  height="321"  src="lvs.files/lvs9806.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >需要安装</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=pre  style="background:rgb(249,249,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " >please&nbsp;install&nbsp;the&nbsp;development&nbsp;package&nbsp;for&nbsp;popt&nbsp;which&nbsp;should</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=pre  style="background:rgb(249,249,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " >give&nbsp;you&nbsp;popt.h.</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="409"  height="33"  src="lvs.files/lvs9892.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >基于<font face="Calibri" >rpm</font><font face="宋体" >包构建</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="554"  height="66"  src="lvs.files/lvs9905.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:4.8000pt; margin-bottom:6.0000pt; line-height:14.2500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.0000pt; mso-font-kerning:0.0000pt; " >Then,&nbsp;we&nbsp;can&nbsp;build&nbsp;the&nbsp;ipvsadm-1.24&nbsp;rpm&nbsp;in&nbsp;the&nbsp;following&nbsp;command:</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=pre  style="border-top:0.7500pt dashed rgb(47,111,171); mso-border-top-alt:0.7500pt dashed rgb(47,111,171); border-right:0.7500pt dashed rgb(47,111,171); mso-border-right-alt:0.7500pt dashed rgb(47,111,171); border-bottom:0.7500pt dashed rgb(47,111,171); mso-border-bottom-alt:0.7500pt dashed rgb(47,111,171); border-left:0.7500pt dashed rgb(47,111,171); mso-border-left-alt:0.7500pt dashed rgb(47,111,171); padding:12pt 12pt 12pt 12pt ; line-height:13.2000pt; background:rgb(249,249,249); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " >rpmbuild&nbsp;--rebuild&nbsp;ipvsadm-1.24-6.src.rpm</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,0); font-size:12.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:4.8000pt; margin-bottom:6.0000pt; line-height:14.2500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.0000pt; mso-font-kerning:0.0000pt; " >And&nbsp;install&nbsp;using:&nbsp;rpm&nbsp;-ivh&nbsp;/usr/src/redhat/RPMS/i386/ipvsadm-1.24-6.i386.rpm</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="437"  height="108"  src="lvs.files/lvs10095.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >验证</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><img width="437"  height="38"  src="lvs.files/lvs10101.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >命令手册</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >操作虚拟服务</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--add-service&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;virtual&nbsp;service&nbsp;with&nbsp;options</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--edit-service&nbsp;&nbsp;&nbsp;&nbsp;-E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edit&nbsp;virtual&nbsp;service&nbsp;with&nbsp;options</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--delete-service&nbsp;&nbsp;-D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;virtual&nbsp;service</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >操作<font face="Calibri" >realserver</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >--add-server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add&nbsp;real&nbsp;server&nbsp;with&nbsp;options</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--edit-server&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edit&nbsp;real&nbsp;server&nbsp;with&nbsp;options</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--delete-server&nbsp;&nbsp;&nbsp;-d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete&nbsp;real&nbsp;server</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >配置操作</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >--list&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-L|-l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list&nbsp;the&nbsp;table</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >--clear&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear&nbsp;the&nbsp;whole&nbsp;table</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >--restore&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;restore&nbsp;rules&nbsp;from&nbsp;stdin</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >--save&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;save&nbsp;rules&nbsp;to&nbsp;stdout</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >配置选项</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Options:</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--tcp-service&nbsp;&nbsp;-t&nbsp;service-address&nbsp;&nbsp;&nbsp;service-address&nbsp;is&nbsp;host[:port]</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--udp-service&nbsp;&nbsp;-u&nbsp;service-address&nbsp;&nbsp;&nbsp;service-address&nbsp;is&nbsp;host[:port]</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--fwmark-service&nbsp;&nbsp;-f&nbsp;fwmark&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fwmark&nbsp;is&nbsp;an&nbsp;integer&nbsp;greater&nbsp;than&nbsp;zero</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--ipv6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fwmark&nbsp;entry&nbsp;uses&nbsp;IPv6</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >调度方式</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--scheduler&nbsp;&nbsp;&nbsp;&nbsp;-s&nbsp;scheduler&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;of&nbsp;rr|wrr|lc|wlc|lblc|lblcr|dh|sh|sed|nq,</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;default&nbsp;scheduler&nbsp;is&nbsp;wlc.</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--pe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alternate&nbsp;persistence&nbsp;engine&nbsp;may&nbsp;be&nbsp;sip,</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;set&nbsp;by&nbsp;default.</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#session<font face="宋体" >保持，保证客户端都发到同一个</font><font face="Calibri" >server</font><font face="宋体" >上。</font><font face="Calibri" >-p</font><font face="宋体" >指定多长时间。不指定时间，默认</font><font face="Calibri" >300</font><font face="宋体" >秒</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--persistent&nbsp;&nbsp;&nbsp;-p&nbsp;[timeout]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;persistent&nbsp;service</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#&nbsp;<font face="宋体" >掩码，不同</font><font face="Calibri" >ip</font><font face="宋体" >地址和掩码与得到的网络地址，启用一个网络地址，对应一个</font><font face="Calibri" >realserver</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--netmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-M&nbsp;netmask&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;persistent&nbsp;granularity&nbsp;mask</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--real-server&nbsp;&nbsp;-r&nbsp;server-address&nbsp;&nbsp;&nbsp;&nbsp;server-address&nbsp;is&nbsp;host&nbsp;(and&nbsp;port)</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >转发模式</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--gatewaying&nbsp;&nbsp;&nbsp;-g&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gatewaying&nbsp;(direct&nbsp;routing)&nbsp;(default)</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--ipip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ipip&nbsp;encapsulation&nbsp;(tunneling)</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--masquerading&nbsp;-m&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;masquerading&nbsp;(NAT)</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#&nbsp;<font face="宋体" >负载的比例</font><font face="Calibri" >,</font><font face="宋体" >默认值</font><font face="Calibri" >1</font><font face="宋体" >，越大负载越高</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--weight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-w&nbsp;weight&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;capacity&nbsp;of&nbsp;real&nbsp;server</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--u-threshold&nbsp;&nbsp;-x&nbsp;uthreshold&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;upper&nbsp;threshold&nbsp;of&nbsp;connections</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;--l-threshold&nbsp;&nbsp;-y&nbsp;lthreshold&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;threshold&nbsp;of&nbsp;connections</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >常用命令</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1<font face="宋体" >．&nbsp;查看配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="511"  height="118"  src="lvs.files/lvs12011.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >2<font face="宋体" >．&nbsp;保存配置到文件</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-S&nbsp;&#62;lvs.cfg</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >3<font face="宋体" >．&nbsp;加载配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >cat&nbsp;lvs.cfg&nbsp;|ipvsadm&nbsp;&#8211;R</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;或者&nbsp;&nbsp;<font face="Calibri" >ipvsadm&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#8211;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >R&nbsp;&#60;&nbsp;lvs.cfg</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >4<font face="宋体" >．&nbsp;查看连接</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-lcn&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-left:105.0000pt; text-indent:-105.0000pt; mso-char-indent-count:-10.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Prot&nbsp;LocalAddress:Port&nbsp;Conns&nbsp;InPkts&nbsp;OutPkts&nbsp;InBytes&nbsp;OutBytes</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="margin-left:105.0000pt; text-indent:-105.0000pt; mso-char-indent-count:-10.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >连接数&nbsp;输入包&nbsp;输出包&nbsp;输入流量&nbsp;输出流量</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >5<font face="宋体" >．&nbsp;连接清零</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#8211;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Z</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >6.&nbsp;<font face="宋体" >启动</font><font face="Calibri" >ipvsadm</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >配置之后实时生效，但是重启清空，所以需要开机加载</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;ipvsadm&nbsp;&nbsp;start&nbsp;&nbsp;<font face="宋体" >加载配置文件</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >7.&nbsp;<font face="宋体" >保存配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;ipvsadm&nbsp;save&nbsp;&nbsp;&nbsp;<font face="宋体" >保存到配置文件中</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >8.&nbsp;<font face="宋体" >停止服务</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;ipvsadm&nbsp;stop&nbsp;&nbsp;&nbsp;<font face="宋体" >清空配置，不会清空配置文件</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >9.&nbsp;<font face="宋体" >示例</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="189"  src="lvs.files/lvs12395.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >配置和分析</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="520"  height="87"  src="lvs.files/lvs12407.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="456"  height="54"  src="lvs.files/lvs12409.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="368"  height="57"  src="lvs.files/lvs12412.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >所有的负载均衡器配置路由转发功能</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;1&#160;&#62;&nbsp;/proc/sys/net/ipv4/ip_forward&#160;&nbsp;#<font face="宋体" >开启服务器路由转发</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;NAT配置</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:21.0000pt; mso-char-indent-count:2.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >NAT<font face="宋体" >服务可以使用单网卡或者双网卡模式，双网卡模式和单网卡模式配置上没有区别，主要区别在于增加的一块网卡，还是前面放一个路由器。但是负载均衡器</font><font face="Calibri" >nat</font><font face="宋体" >方式要求客户端从外网访问，因为如果客户端从内网访问，</font><font face="Calibri" >lvs</font><font face="宋体" >会变成</font><font face="Calibri" >dr</font><font face="宋体" >模式。</font><font face="Calibri" >vip</font><font face="宋体" >地址可以使用本机实际</font><font face="Calibri" >Ip</font><font face="宋体" >或者使用独立的虚拟</font><font face="Calibri" >Ip</font><font face="宋体" >地址。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >双网卡模式</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >一般需要双网卡，一个网卡配置外网，另一个配置内网。功效类似<font face="Calibri" >nat</font><font face="宋体" >转发的路由器。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >单网卡模式</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; mso-char-indent-count:2.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >前端需要路由器支持，然后路由器转发请求到负载均衡服务器上。这样的话至少需要申请两个外网<font face="Calibri" >ip</font><font face="宋体" >地址。一个分配给路由器，另一个提供给负载均衡器。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >当然也可以通过真正路由器转发到内网，<font face="Calibri" >nat</font><font face="宋体" >只需要配置一个内网地址就可以了。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >nat<font face="宋体" >转换，</font><font face="Calibri" >realserver</font><font face="宋体" >需要把数据包返回给负载均衡服务器，所以负载均衡服务器是一个网关。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.1.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;负载均衡器配置</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1<font face="宋体" >．&nbsp;开启服务器路由转发</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;1&#160;&#62;&nbsp;/proc/sys/net/ipv4/ip_forward&#160;&nbsp;&nbsp;&nbsp;<font face="宋体" >（实时生效</font><font face="Calibri" >,</font><font face="宋体" >临时配置）</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >或者&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >vi&nbsp;/etc/sysctl.conf</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#&nbsp;Controls&nbsp;IP&nbsp;packet&nbsp;forwarding</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >net.ipv4.ip_forward&nbsp;=&nbsp;0</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >此配置永久生效，但是需要重启网卡&nbsp;<font face="Calibri" >s</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ervice&nbsp;network&nbsp;restart</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >注意<font face="Calibri" >:</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >必须配置转发功能，否则工作不正常，或者数据很慢。</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >2<font face="宋体" >．&nbsp;设置服务虚地址&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="540"  height="25"  src="lvs.files/lvs13086.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-A&nbsp;&nbsp;<font face="宋体" >添加&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-t&nbsp;&nbsp;ip<font face="宋体" >地址&nbsp;&nbsp;虚拟地址和端口</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-s&nbsp;&nbsp;<font face="宋体" >负载均衡模式&nbsp;</font><font face="Calibri" >rr</font><font face="宋体" >（轮询模式）</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >重新设置调度算法</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="506"  height="44"  src="lvs.files/lvs13145.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.1.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >添加后端服务器</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><img width="554"  height="138"  src="lvs.files/lvs13156.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-a&nbsp;&nbsp;<font face="宋体" >添加一个</font><font face="Calibri" >realserver</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-t&nbsp;&nbsp;<font face="宋体" >支持</font><font face="Calibri" >tcp</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-r&nbsp;&nbsp;<font face="宋体" >代表一个</font><font face="Calibri" >realserver</font><font face="宋体" >的</font><font face="Calibri" >ip:port</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-m&nbsp;&nbsp;<font face="宋体" >代表通过</font><font face="Calibri" >nat</font><font face="宋体" >协议转发</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.1.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;举例</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >例如<font face="Calibri" >ipp</font><font face="宋体" >模拟端</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端访问</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >192.168.1.75:81/idemo/mcht/index.html</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >192.168.1.100&nbsp;192.168.1.76<font face="宋体" >提供服务</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >机器配置</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Director:</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >IP&nbsp;&nbsp;192.168.1.75</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >mac&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >vip&nbsp;<font face="宋体" >使用本机地址</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link&nbsp;encap:Ethernet&nbsp;&nbsp;HWaddr&nbsp;00:0C:29:99:1A:59&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inet&nbsp;addr:192.168.1.75&nbsp;&nbsp;Bcast:192.168.1.255&nbsp;&nbsp;Mask:255.255.255.0</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Real&nbsp;server</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l6 level1 lfo10; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >IP</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:192.168.1.76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;mac:</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;00:0C:29:66:56:A4&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:-18.0000pt; mso-char-indent-count:0.0000; mso-list:l6 level1 lfo10; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2.<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >IP</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >配置如下<font face="Calibri" >:</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >负载均衡器</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;1&#160;&#62;&nbsp;/proc/sys/net/ipv4/ip_forward</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-C</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >A</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;-t&nbsp;192.168.1.75:81&nbsp;-s&nbsp;rr</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.75:81&nbsp;&nbsp;-r&nbsp;192.168.1.100:8080&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >m</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.75:81&nbsp;&nbsp;-r&nbsp;192.168.1.76:8080&nbsp;-m</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >r</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >oute&nbsp;add&nbsp;-net&nbsp;192.168.255.0&nbsp;netmask&nbsp;255.255.255.0&nbsp;gw&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >75</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >说明：</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >需要把这个响应发到负载均衡器上，所以添加静态路由</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >route&nbsp;add&nbsp;-net&nbsp;192.168.255.0&nbsp;netmask&nbsp;255.255.255.0&nbsp;gw&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >75</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >或者<font face="Calibri" >realserver</font><font face="宋体" >上的默认网关就是</font><font face="Calibri" >192.168.1.75</font><font face="宋体" >，推荐这种方式。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >NAT抓包分析</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >下面从数据包角度，看其工作机制</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.2.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >load&nbsp;balancer<font face="宋体" >转发</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >192<font face="宋体" >．</font><font face="Calibri" >168</font><font face="宋体" >．</font><font face="Calibri" >255</font><font face="宋体" >．</font><font face="Calibri" >102</font><font face="宋体" >发送请求报文</font><font face="Calibri" >192.168.1.75</font><font face="宋体" >的报文</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="154"  src="lvs.files/lvs14102.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >nat<font face="宋体" >转换，把目标地址转换为</font><font face="Calibri" >realserver</font><font face="宋体" >的地址</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="152"  src="lvs.files/lvs14132.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >响应报文，返回给</font><font face="Calibri" >102,</font><font face="宋体" >通过网关的。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="236"  src="lvs.files/lvs14166.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >网关进行转换&nbsp;把源地址改成网关地址。</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="193"  src="lvs.files/lvs14187.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.2.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;realserver&nbsp;<font face="宋体" >上抓包</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >76<font face="宋体" >接收</font><font face="Calibri" >102</font><font face="宋体" >的请求，请求是透明，</font><font face="Calibri" >76</font><font face="宋体" >不知道网关存在。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="217"  src="lvs.files/lvs14238.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >76<font face="宋体" >把响应报文回传给</font><font face="Calibri" >102</font><font face="宋体" >，也是透明的。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="238"  src="lvs.files/lvs14263.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.2.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;client</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端<font face="Calibri" >255.102</font><font face="宋体" >发起请求到</font><font face="Calibri" >1.75</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="226"  src="lvs.files/lvs14295.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >192<font face="宋体" >．</font><font face="Calibri" >168</font><font face="宋体" >．</font><font face="Calibri" >1</font><font face="宋体" >．</font><font face="Calibri" >75</font><font face="宋体" >响应报文到</font><font face="Calibri" >255.102</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="202"  src="lvs.files/lvs14322.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >命令</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="158"  src="lvs.files/lvs14337.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="521"  src="lvs.files/lvs14341.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="390"  src="lvs.files/lvs14345.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >交替</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="316"  src="lvs.files/lvs14350.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >没有监听还在等</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="299"  src="lvs.files/lvs14363.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="410"  src="lvs.files/lvs14367.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="353"  src="lvs.files/lvs14370.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;IP隧道</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:15.7500pt; mso-char-indent-count:1.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >几台机器必须使用相同的<font face="Calibri" >vip</font><font face="宋体" >和端口，对源请求再次封装，转发到实际的服务器上，服务器直接返回给客户端。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.3.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >配置</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >负载均衡器</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-C</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >A</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;-s&nbsp;rr</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;-r&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8080&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-i</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;-r&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8080</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;-i</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ifconfig&nbsp;tunl0&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;netmask&nbsp;255.255.255.0&nbsp;&nbsp;broadcast&nbsp;192.168.1.255</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ifconfig&nbsp;tunl0&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;netmask&nbsp;255.255.255.0&nbsp;&nbsp;broadcast&nbsp;192.168.1.255</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#&nbsp;<font face="宋体" >防止发送和响应本机虚拟</font><font face="Calibri" >ip</font><font face="宋体" >的</font><font face="Calibri" >arp</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"1"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/all/arp_ignore</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"1"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/lo/arp_ignore</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"2"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/lo/arp_announce</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"2"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/all/arp_announce</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;配置之后<font face="Calibri" >realserver</font><font face="宋体" >的</font><font face="Calibri" >mac</font><font face="宋体" >地址相同。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="426"  height="35"  src="lvs.files/lvs15046.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="464"  height="30"  src="lvs.files/lvs15049.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;IP隧道抓包分析</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >访问<font face="Calibri" >vip</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="533"  height="356"  src="lvs.files/lvs15069.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看连接</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="105"  src="lvs.files/lvs15077.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >负载均衡器把<font face="Calibri" >163</font><font face="宋体" >的请求报文，转到</font><font face="Calibri" >realserver</font><font face="宋体" >上</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="226"  src="lvs.files/lvs15110.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端响应报文</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="194"  src="lvs.files/lvs15121.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="150"  src="lvs.files/lvs15127.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户机请求报文和接受报文的情况</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="220"  src="lvs.files/lvs15148.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >三次握手</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="81"  src="lvs.files/lvs15157.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h4 style="mso-list:l8 level4 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.4.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >错误配置</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h4><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.4.1.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >端口配置不同，错误</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >A</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;-t&nbsp;192.168.1.75:81&nbsp;-s&nbsp;rr</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.75:81&nbsp;&nbsp;-r&nbsp;192.168.1.100:8080&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-i</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.75:81&nbsp;&nbsp;-r&nbsp;192.168.1.76:8080</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#8211;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >i</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h5 style="mso-list:l8 level5 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.4.4.1.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " >只配置<font face="Calibri" >server&nbsp;,</font><font face="宋体" >没有返回包</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:14.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h5><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >163<font face="宋体" >机器上</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="143"  src="lvs.files/lvs15352.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >director</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="236"  src="lvs.files/lvs15365.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >163<font face="宋体" >发送到</font><font face="Calibri" >75</font><font face="宋体" >的原始包</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >转换包</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="230"  src="lvs.files/lvs15387.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >75<font face="宋体" >到</font><font face="Calibri" >100</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >里面包裹&nbsp;<font face="Calibri" >163</font><font face="宋体" >到</font><font face="Calibri" >75</font><font face="宋体" >的包</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100<font face="宋体" >响应包</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="234"  src="lvs.files/lvs15419.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100-75&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >添加隧道之后&nbsp;本机可以访问<font face="Calibri" >8080&nbsp;</font><font face="宋体" >但是调度器不可以</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="123"  src="lvs.files/lvs15461.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >只有两个报文</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="208"  src="lvs.files/lvs15471.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.5<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >DR配置</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >机器配置</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Director:</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >IP&nbsp;&nbsp;192.168.1.76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >mac&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >vip&nbsp;&nbsp;192.168.1.240&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link&nbsp;encap:Ethernet&nbsp;&nbsp;HWaddr&nbsp;00:0C:29:99:1A:59&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inet&nbsp;addr:192.168.1.75&nbsp;&nbsp;Bcast:192.168.1.255&nbsp;&nbsp;Mask:255.255.255.0</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0:0&nbsp;&nbsp;&nbsp;&nbsp;Link&nbsp;encap:Ethernet&nbsp;&nbsp;HWaddr&nbsp;00:0C:29:99:1A:59&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inet&nbsp;addr:192.168.1.240</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Real&nbsp;server</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >mac:</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;00:0C:29:66:56:A4&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >IP</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:192.168.1.76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lo;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lo:0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link&nbsp;encap:Local&nbsp;Loopback&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inet&nbsp;addr:192.168.1.240&nbsp;&nbsp;Mask:255.255.255.255</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >负载均衡器的配置</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-C</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;&nbsp;-</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >A</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;-s&nbsp;rr</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;-r&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8080&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >-g</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;-r&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >:8080</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;-g</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ifconfig&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eth0:0</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;netmask&nbsp;255.255.255.0&nbsp;&nbsp;broadcast&nbsp;192.168.1.255</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver&nbsp;<font face="宋体" >的配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ifconfig</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;lo:0</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;netmask&nbsp;255.255.255.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >255</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#&nbsp;<font face="宋体" >防止发送和响应本机虚拟</font><font face="Calibri" >ip</font><font face="宋体" >的</font><font face="Calibri" >arp</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"1"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/all/arp_ignore</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"1"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/lo/arp_ignore</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"2"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/lo/arp_announce</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >echo&nbsp;"2"&nbsp;&#62;&nbsp;/proc/sys/net/ipv4/conf/all/arp_announce</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >测试网址</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >http://192.168.1.240:8080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.4.6<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >DR抓包分</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端请求</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="322"  src="lvs.files/lvs16522.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >realserver<font face="宋体" >响应请求</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="211"  src="lvs.files/lvs16539.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >mac<font face="宋体" >地址是</font><font face="Calibri" >realserver</font><font face="宋体" >的，所以是从</font><font face="Calibri" >realserver</font><font face="宋体" >中发出来的</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >mac<font face="宋体" >地址改写，使用回环接口改写</font><font face="Calibri" >mac</font><font face="宋体" >。虚</font><font face="Calibri" >ip</font><font face="宋体" >作为回环地址</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >原理&nbsp;</span><span><a href="http://os.51cto.com/art/201105/264303.htm" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://os.51cto.com/art/201105/264303.htm</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span><a href="http://www.2cto.com/os/201109/103535.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.2cto.com/os/201109/103535.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://wenku.baidu.com/view/a460aa63ddccda38376baf42.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://wenku.baidu.com/view/a460aa63ddccda38376baf42.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="487"  height="385"  src="lvs.files/lvs16952.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >环境：<font face="Verdana" >1</font><font face="宋体" >台</font><font face="Verdana" >linux</font><font face="宋体" >服务器，&nbsp;用于</font><font face="Verdana" >directory</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >2<font face="宋体" >台</font><font face="Verdana" >windows</font><font face="宋体" >服务器，用于</font><font face="Verdana" >realserver</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >IP<font face="宋体" >地址划分：</font><font face="Verdana" >linux</font><font face="宋体" >服务器&nbsp;</font><font face="Verdana" >192.168.180.40</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >windows1<font face="宋体" >服务器&nbsp;</font><font face="Verdana" >192.168.180.58</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >windows2<font face="宋体" >服务器&nbsp;</font><font face="Verdana" >192.168.180.59</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >VIP<font face="宋体" >：</font><font face="Verdana" >192.168.180.61</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >网关：<font face="Verdana" >192.168.180.62</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >linux<font face="宋体" >服务器配置：</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ifconfig&nbsp;eth1:1&nbsp;192.168.180.61&nbsp;netmask&nbsp;255.255.255.255&nbsp;up</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >route&nbsp;add&nbsp;-host&nbsp;192.168.180.61&nbsp;dev&nbsp;eth1:1</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-C</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-A&nbsp;-t&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(255,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >192.168.180.61</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >:80&nbsp;-s&nbsp;rr</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.180.61:80&nbsp;-r&nbsp;192.168.180.58:80&nbsp;-g</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-a&nbsp;-t&nbsp;192.168.180.61:80&nbsp;-r&nbsp;192.168.180.59:80&nbsp;-g</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-L&nbsp;-n</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >服务已启动，确定工作正常</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >windows<font face="宋体" >服务器配置：</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >在<font face="Verdana" >2008R2</font><font face="宋体" >上添加了</font><font face="Verdana" >loopback&nbsp;adapter</font><font face="宋体" >，</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(255,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >配置<font face="Verdana" >VIP&nbsp;192.168.180.61</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >，掩码<font face="Verdana" >255.255.255.255&nbsp;</font><font face="宋体" >网关本想指定</font><font face="Verdana" >192.168.180.61&nbsp;</font><font face="宋体" >但是</font><font face="Verdana" >windows</font><font face="宋体" >不让指定，我就没有指定。在</font><font face="Verdana" >windows&nbsp;</font><font face="宋体" >在两台</font><font face="Verdana" >windows</font><font face="宋体" >上搭建好</font><font face="Verdana" >IIS</font><font face="宋体" >，建立站点，本想测试效果，但是</font><font face="Verdana" >client</font><font face="宋体" >访问</font><font face="Verdana" >VIP</font><font face="宋体" >刷新不到页面。网上查一下，有朋友写需要输入一下命令：</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"net"&nbsp;weakhostreceive=enabled</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"net"&nbsp;weakhostsend=enabled</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"loopback"&nbsp;weakhostreceive=enabled</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"loopback"&nbsp;weakhostsend=enabled</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >但是我在命令提示符里输入命令后，在刷新页面也出不来。</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:19.5000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >上面的四条命令一定要输入，因为<font face="Arial" >windows&nbsp;2008</font><font face="宋体" >的默认中，网卡的</font><font face="Arial" >stronghost</font><font face="宋体" >处于启用状态，这个设置可以防止跨接口转发数据包，这就表明：来自一个网络适配器的请求不会被环回适配器处理，因为这个请求来自于不同的网络适配器。为了将环回适配器从</font><font face="Arial" >stronghost</font><font face="宋体" >切换为</font><font face="Arial" >weakhost</font><font face="宋体" >，需要运行以上四条命令，要不然</font><font face="Arial" >TCP</font><font face="宋体" >的状态会一直处于</font><font face="Arial" >SYN_RECV&nbsp;</font><font face="宋体" >状态，解决这个问题花了我一天的时间，最后在一个老外的文档里找到的办法</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:19.5000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >http://blog.loadbalancer.org/direct-server-return-on-windows-2008-using-loopback-adpter/</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><img width="554"  height="447"  src="lvs.files/lvs18230.png" ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >在<font face="Verdana" >linux</font><font face="宋体" >上使用</font><font face="Verdana" >ipvsadm&nbsp;-Ln&nbsp;</font><font face="宋体" >查看，可以看到</font><font face="Verdana" >Inactconn</font><font face="宋体" >在增长。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >部署邮件系统负载均衡，采用<font face="Arial" >LVS-DR</font><font face="宋体" >模式，调度器是一台</font><font face="Arial" >centos&nbsp;5.8</font><font face="宋体" >，</font><font face="Arial" >real-server</font><font face="宋体" >是两台</font><font face="Arial" >windows2008</font><font face="宋体" >，</font><font face="Arial" >DR</font><font face="宋体" >的配置网上很多，就不贴出来了，主要是</font><font face="Arial" >real-server</font><font face="宋体" >的配置，因为是</font><font face="Arial" >windows&nbsp;2008</font><font face="宋体" >，多了些步骤</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >具体做法如下：</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >1.<font face="宋体" >关掉系统自带防火墙功能</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >2.<font face="宋体" >新增环回网卡</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >3.<font face="宋体" >配置环回</font><font face="Arial" >ip</font><font face="宋体" >为</font><font face="Arial" >vip</font><font face="宋体" >的</font><font face="Arial" >ip</font><font face="宋体" >，掩码</font><font face="Arial" >255.255.255.255</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >4.<font face="宋体" >修改网卡信息</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >在命令行下修改，开始<font face="Arial" >--</font><font face="宋体" >运行</font><font face="Arial" >--cmd</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"<font face="宋体" >实节点网卡名字</font><font face="Arial" >"&nbsp;weakhostreceive=enabled</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"<font face="宋体" >实节点网卡名字</font><font face="Arial" >"&nbsp;weakhostsend=enabled</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"<font face="宋体" >实节点环回网卡名字</font><font face="Arial" >"&nbsp;weakhostreceive=enabled</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >netsh&nbsp;interface&nbsp;ipv4&nbsp;set&nbsp;interface&nbsp;"<font face="宋体" >实节点环回网卡名字</font><font face="Arial" >"&nbsp;weakhostsend=enabled</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >完成后，测试一下是否好了，恭喜你，：）大功告成！</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >上面的四条命令一定要输入，因为<font face="Arial" >windows&nbsp;2008</font><font face="宋体" >的默认中，网卡的</font><font face="Arial" >stronghost</font><font face="宋体" >处于启用状态，这个设置可以防止跨接口转发数据包，这就表明：来自一个网络适配器的请求不会被环回适配器处理，因为这个请求来自于不同的网络适配器。为了将环回适配器从</font><font face="Arial" >stronghost</font><font face="宋体" >切换为</font><font face="Arial" >weakhost</font><font face="宋体" >，需要运行以上四条命令，要不然</font><font face="Arial" >TCP</font><font face="宋体" >的状态会一直处于</font><font face="Arial" >SYN_RECV&nbsp;</font><font face="宋体" >状态，解决这个问题花了我一天的时间，最后在一个老外的文档里找到的办法</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >http://blog.loadbalancer.org/direct-server-return-on-windows-2008-using-loopback-adpter/</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:16.3000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >有不懂的欢迎留言！</span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >KEEPALIVED<font face="宋体" >需要修改</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:15.6000pt; mso-line-height-alt:12pt; background:rgb(255,255,255); " ><img width="420"  height="83"  src="lvs.files/lvs19123.png" ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="446"  src="lvs.files/lvs19125.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="215"  src="lvs.files/lvs19127.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="414"  height="430"  src="lvs.files/lvs19129.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="362"  src="lvs.files/lvs19133.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="362"  src="lvs.files/lvs19137.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="371"  height="157"  src="lvs.files/lvs19141.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >Director<font face="宋体" >修改</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="413"  src="lvs.files/lvs19157.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >问题</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >在<font face="Verdana" >linux</font><font face="宋体" >上使用</font><font face="Verdana" >ipvsadm&nbsp;-Ln&nbsp;</font><font face="宋体" >查看，可以看到</font><font face="Verdana" >Inactconn</font><font face="宋体" >在增长。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >网关可以不用指定，修改下注册表，<font face="Verdana" >HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Tcpip\Parameters\Interfaces&nbsp;</font><font face="宋体" >找到</font><font face="Verdana" >Microsoft&nbsp;loopback&nbsp;adapter</font><font face="宋体" >设置</font><font face="Verdana" >ipaddress</font><font face="宋体" >值：</font><font face="Verdana" >192.168.180.61&nbsp;Subnetmask:&nbsp;255.255.255.255</font><font face="宋体" >，禁用设备再启用即可。</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:9.0000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=pre  style="margin-bottom:6.2500pt; line-height:15.0500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(51,51,51); font-size:9.0000pt; mso-font-kerning:0.0000pt; " >使用抓包软件，用你的电脑访问<font face="Arial" >VIP</font><font face="宋体" >地址，看下传过来的</font><font face="Arial" >MAC</font><font face="宋体" >地址是</font><font face="Arial" >LINUX</font><font face="宋体" >服务器</font><font face="Arial" >MAC</font><font face="宋体" >地址，还是</font><font face="Arial" >real&nbsp;server&nbsp;MAC</font><font face="宋体" >地址，用</font><font face="Arial" >real&nbsp;service&nbsp;&nbsp;&nbsp;ping&nbsp;VIP</font><font face="宋体" >地址&nbsp;&nbsp;在</font><font face="Arial" >arp&nbsp;-a&nbsp;</font><font face="宋体" >看获取</font><font face="Arial" >VIP</font><font face="宋体" >的</font><font face="Arial" >MAC</font><font face="宋体" >的地址&nbsp;因该不是</font><font face="Arial" >Linux&nbsp;MAC</font><font face="宋体" >地址，请确认。</font></span><span style="mso-spacerun:'yes'; font-family:Arial; mso-fareast-font-family:宋体; color:rgb(51,51,51); font-size:9.0000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="365"  src="lvs.files/lvs19542.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >服务器上进行了修改</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="126"  src="lvs.files/lvs19557.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="157"  src="lvs.files/lvs19563.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这里的<font face="Calibri" >96</font><font face="宋体" >实际上是错误的，应该是</font><font face="Calibri" >:82</font><font face="宋体" >。客户端的那个。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="161"  src="lvs.files/lvs19607.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >包不返回</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="279"  src="lvs.files/lvs19615.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="519"  src="lvs.files/lvs19619.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm下载地址：&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; background:rgb(255,204,0); mso-shading:rgb(255,204,0); " >一、关于ipvsadm:</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >注：权重用整数来表示，有时候也可以将其设置为atomic_t；其有效表示值范围为24bit整数空间，即（2^24-1）；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >因此，ipvsadm命令的主要作用表现在以下方面：</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >1、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >添加服务（通过设定其权重&#62;0）</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >2、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >关闭服务（通过设定其权重&#62;0）</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >；此应用场景中，已经连接的用户将可以继续使用此服务，直到其退出或超时；新的连接请求将被拒绝；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >3、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >保存ipvs设置</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，通过使用&#8220;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm-sav&nbsp;&#62;&nbsp;ipvsadm.sav</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#8221;命令实现；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >4、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >恢复ipvs设置</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，通过使用&#8220;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm-sav&nbsp;&#60;&nbsp;ipvsadm.sav</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#8221;命令实现；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >5、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >显示ip_vs的版本号</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，下面的命令显示ipvs的hash表的大小为4k；</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;&nbsp;#</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;&#160;&#160;&nbsp;IP&nbsp;Virtual&nbsp;Server&nbsp;version&nbsp;1.2.1&nbsp;(size=4096)</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >6、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >显示ipvsadm的版本号</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;&nbsp;#</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;--version</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;&#160;&nbsp;ipvsadm&nbsp;v1.24&nbsp;2003/06/07&nbsp;(compiled&nbsp;with&nbsp;popt&nbsp;and&nbsp;IPVS&nbsp;v1.2.0)</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >7、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >查看LVS上当前的所有连接</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >#</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-Lcn&#160;&#160;</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >或者</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >#</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >cat&nbsp;/proc/net/ip_vs_conn</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >8、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >查看虚拟服务和RealServer上当前的连接数、数据包数和字节数的统计值</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，则可以使用下面的命令实现：</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >#</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-l&nbsp;--stats</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >9、</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >查看包传递速率的近似精确值</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，可以使用下面的命令：</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:21.0000pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >#</span><span class="26"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; " >&#160;</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(255,0,255); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm&nbsp;-l&nbsp;--rate</span><span style="mso-spacerun:'yes'; font-family:宋体; color:rgb(85,85,85); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="255"  src="lvs.files/lvs20305.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3.5<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >配置问题</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.5.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >ipvsadm的配置重启无效</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm<font face="宋体" >的配置重启无效，所以需要启动加载。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >设置如下</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >chkconfig&nbsp;&nbsp;ipvsadm&nbsp;&nbsp;on&nbsp;&nbsp;&nbsp;#<font face="宋体" >启动加载</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;ipvsadm&nbsp;&nbsp;start&nbsp;&nbsp;<font face="宋体" >保存配置并启动</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;ipvsadm&nbsp;&nbsp;save&nbsp;&nbsp;<font face="宋体" >保存配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >3.5.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >如何关闭虚接口</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><img width="174"  height="14"  src="lvs.files/lvs20462.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >提高篇</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >高性能</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >4.1.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >硬件</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >从目前的数据来看，性能是很高的，理论上<font face="Calibri" >DR</font><font face="宋体" >模式可以抗衡硬件级别的负载均衡器。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >做服务器选购上，选择针对网络优化的服务器。&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lvs<font face="宋体" >作者提供的硬件配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="347"  src="lvs.files/lvs20553.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="297"  src="lvs.files/lvs20556.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >参考资料</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.docin.com/p-310290067.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.docin.com/p-310290067.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >4.1.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >性能调优</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal ><span><a href="http://hi.baidu.com/higkoo/item/9e98b202d8709dc12e4c6bb2" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://hi.baidu.com/higkoo/item/9e98b202d8709dc12e4c6bb2</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span><a href="http://weibo.com/benjiaming1981" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://weibo.com/benjiaming1981</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >内核优化</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://kernel.taobao.org/index.php/Documents/Kernel_build" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://kernel.taobao.org/index.php/Documents/Kernel_build</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:15.7500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >去年</span><span><a href="http://hi.baidu.com/higkoo/item/dcfef11bc63946cc39cb3034" ><span class="27"  style="mso-spacerun:'yes'; font-family:Tahoma; color:rgb(63,167,203); text-decoration:underline; text-underline:single; font-size:10.5000pt; " >试用</span></a></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >了一下</span><span><a href="http://kernel.taobao.org/" ><span class="27"  style="mso-spacerun:'yes'; font-family:Tahoma; color:rgb(63,167,203); text-decoration:underline; text-underline:single; font-size:10.5000pt; " >淘宝内核</span></a></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >，发现它对<font face="Tahoma" >LVS</font><font face="宋体" >性能有质的提升。敬佩之心倍上心头，兴奋之余开始了解淘宝内核。</font></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=p  style="margin-top:0.0000pt; margin-bottom:0.0000pt; line-height:15.7500pt; background:rgb(255,255,255); " ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;&#160;&#160;&#160;<font face="宋体" >简单公布一下测试结果：在一台</font></span><span><a href="https://code.google.com/p/public-higkoo/source/browse/trunk/2013/01/Dell-R610.txt" ><span class="27"  style="mso-spacerun:'yes'; font-family:Tahoma; color:rgb(63,167,203); text-decoration:underline; text-underline:single; font-size:10.5000pt; " >普通的<font face="Tahoma" >4</font><font face="宋体" >核服务器</font></span></a></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >上，使用<font face="Tahoma" >LVS</font><font face="宋体" >的</font><font face="Tahoma" >DR</font><font face="宋体" >模式，后端</font><font face="Tahoma" >7</font><font face="宋体" >台</font><font face="Tahoma" >RealServer</font><font face="宋体" >。在</font><font face="Tahoma" >CentOS</font><font face="宋体" >原生内核上，每秒最高转发约</font><font face="Tahoma" >6</font><font face="宋体" >万个</font><font face="Tahoma" >HTTP</font><font face="宋体" >请求，而使用淘宝内核后可高达约</font><font face="Tahoma" >14</font><font face="宋体" >万次请求每秒（瓶颈在测试机，无法模拟更大压力）。而在这台服务器上直接测试</font><font face="Tahoma" >Nginx</font><font face="宋体" >状态页，最高每秒处理约</font><font face="Tahoma" >4</font><font face="宋体" >万次请求。</font></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span><a href="http://hi.baidu.com/higkoo/item/dcfef11bc63946cc39cb3034" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://hi.baidu.com/higkoo/item/dcfef11bc63946cc39cb3034</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >&#160;<font face="宋体" >咨询了一下</font></span><span><a href="http://weibo.com/benjiaming1981" ><span class="27"  style="mso-spacerun:'yes'; font-family:Tahoma; color:rgb(63,167,203); text-decoration:underline; text-underline:single; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >佳明</span></a></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >和</span><span><a href="http://weibo.com/clocktick" ><span class="27"  style="mso-spacerun:'yes'; font-family:Tahoma; color:rgb(63,167,203); text-decoration:underline; text-underline:single; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >炳天</span></a></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >，我感觉我找到原因了：淘宝对内核的配置也进行了大量的优化。针对<font face="Tahoma" >LVS</font><font face="宋体" >的优化就是将</font><font face="Tahoma" >CONFIG_IP_VS_TAB_BITS</font><font face="宋体" >由</font><font face="Tahoma" >12</font><font face="宋体" >调整到</font><font face="Tahoma" >20&#8220;sed&#160;-i&#160;'s/CONFIG_IP_VS_TAB_BITS=12/CONFIG_IP_VS_TAB_BITS=20/g'&#160;SOURCES/config-generic&#8221;</font><font face="宋体" >：</font></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="176"  src="lvs.files/lvs21877.png" ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(69,69,69); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >高可用</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><h3 style="mso-list:l8 level3 lfo1; " ><![if !supportLists]><span style="font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><span style='mso-list:Ignore; ' >4.2.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " >单点问题</span><span style="mso-spacerun:'yes'; font-family:宋体; font-weight:bold; font-size:13.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></h3><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lvs<font face="宋体" >使用过程中会出现单点问题，为了提高可靠性。可以使用双机软件，进行热备。通常和</font><font face="Calibri" >lvs</font><font face="宋体" >搭配的双机软件是</font><font face="Calibri" >keepalived</font><font face="宋体" >，</font><font face="Calibri" >keepalived</font><font face="宋体" >会配置</font><font face="Calibri" >lvs</font><font face="宋体" >规则。&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:26.2500pt; mso-char-indent-count:2.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >keepalived<font face="宋体" >通过</font><font face="Calibri" >vrrp</font><font face="宋体" >协议检测两台主机的健康状态，一旦出现故障，</font><font face="Calibri" >vip</font><font face="宋体" >自动切换到新的主机上。</font><font face="Calibri" >ipvsadm</font><font face="宋体" >只是</font><font face="Calibri" >lvs</font><font face="宋体" >的管理软件，所以</font></span><span style="mso-spacerun:'yes'; font-family:Tahoma; mso-fareast-font-family:宋体; color:rgb(68,68,68); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >即使没安装有<font face="Tahoma" >ipvsadm</font><font face="宋体" >，只要配置有</font><font face="Tahoma" >keepalived</font><font face="宋体" >的</font><font face="Tahoma" >lvs</font><font face="宋体" >，启动服务后就会自动生成</font><font face="Tahoma" >LVS</font><font face="宋体" >规则</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Tahoma; mso-hansi-font-family:Tahoma; mso-bidi-font-family:Tahoma; color:rgb(68,68,68); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >。</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >keepalived<font face="宋体" >安装</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >wget&nbsp;&nbsp;</span><span><a href="http://www.keepalived.org/software/keepalived-1.2.13.tar.gz" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.keepalived.org/software/keepalived-1.2.13.tar.gz</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >tar&nbsp;xzvf&nbsp;keepalived-1.2.13.tar.gz;&nbsp;cd&nbsp;keepalived-1.2.13;&nbsp;./configure;&nbsp;make;&nbsp;make&nbsp;install</span><span class="26"  style="mso-spacerun:'yes'; font-family:'Courier New'; color:rgb(0,0,0); font-size:13.5000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >&#160;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="522"  height="196"  src="lvs.files/lvs22341.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >配置例子</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >需要在主备服务器上都配置，主备服务器配置有细微区别</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >vi&nbsp;/etc/keepalived/keepalived.conf</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >定义<font face="Calibri" >vrrp</font><font face="宋体" >检测实例</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >vrrp_instance&nbsp;VI_1&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >state&nbsp;MASTER</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >备机改成&nbsp;</font><font face="Calibri" >BACKUP</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(255,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;interface&nbsp;eth0</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >绑定的网卡</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;virtual_router_id&nbsp;51</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;#<font face="宋体" >虚拟标识，通讯协议用，主备保持一直</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(255,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;priority&nbsp;100</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; color:rgb(255,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >优先级&nbsp;&nbsp;备机需要改低一点&nbsp;</font><font face="Calibri" >99</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; color:rgb(255,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;advert_int&nbsp;1</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;authentication&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auth_type&nbsp;PASS</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;#vrrp<font face="宋体" >协议验证模式</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auth_pass&nbsp;1111</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;#vrrp<font face="宋体" >协议密码</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#<font face="宋体" >管理的虚拟地址</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;virtual_ipaddress&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;192.168.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >1.240&nbsp;#lvs<font face="宋体" >对外的虚拟地址，可以定义多个</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#<font face="宋体" >定义</font><font face="Calibri" >VIP</font><font face="宋体" >的地址</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >virtual_server&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >240&nbsp;8080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;delay_loop&nbsp;6</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >轮询一次</font><font face="Calibri" >realserver</font><font face="宋体" >的个周期，</font><font face="Calibri" >10</font><font face="宋体" >秒中轮询一次</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;lb_algo&nbsp;wrr&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#lvs<font face="宋体" >的算法&nbsp;&nbsp;&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >rr|wrr|lc|wlc|sh|dh|lblc</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;lb_kind&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >DR&nbsp;&nbsp;&nbsp;&nbsp;#lvs<font face="宋体" >的转发方式&nbsp;&nbsp;&nbsp;</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&#160;NAT|DR|TUN</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;persistence_timeout&nbsp;50</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;#&nbsp;<font face="宋体" >对应</font><font face="Calibri" >lvs&nbsp;p</font><font face="宋体" >选项&nbsp;</font><font face="Calibri" >50</font><font face="宋体" >秒内发送到同一台服务器上</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >protocol&nbsp;TCP</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#tcp<font face="宋体" >检查状态</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="text-indent:21.0000pt; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >#<font face="宋体" >定义</font><font face="Calibri" >realserver1</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;real_server&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >100</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >8080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weight&nbsp;1</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >服务器权重</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#9;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >TCP_CHECK&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connect_timeout&nbsp;3</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;#3<font face="宋体" >秒超时</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;#<font face="宋体" >定义</font><font face="Calibri" >realserver2</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;real_server&nbsp;192.168.1.</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >76</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >8080</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weight&nbsp;1</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#9;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >TCP_CHECK&nbsp;{</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connect_timeout&nbsp;3</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >}</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >启动</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;keepalived&nbsp;start</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >会自动创建<font face="Calibri" >vip</font><font face="宋体" >和</font><font face="Calibri" >lvs</font><font face="宋体" >规则。前提是</font><font face="Calibri" >lvs</font><font face="宋体" >规则，否则不改变。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ipvsadm&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#8211;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ln&nbsp;<font face="宋体" >查看运行规则</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >重新启动</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;keepalived&nbsp;restart&nbsp;&nbsp;<font face="宋体" >会清空规则，重新生成规则</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >停止</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >service&nbsp;keepallived&nbsp;stop&nbsp;<font face="宋体" >会清空规则</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >更多资料参看：</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.keepalived.org/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.keepalived.org/</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;官网</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.keepalived.org/documentation.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.keepalived.org/documentation.html</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;官网文档</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >VRRP&nbsp;is&nbsp;a&nbsp;fundamental&nbsp;brick&nbsp;for&nbsp;router&nbsp;failover.&nbsp;VRRP&nbsp;(Virtual&nbsp;Router&nbsp;Redundancy&nbsp;Protocol&nbsp;:&#160;</span><span><a href="http://www.ietf.org/rfc/rfc2338.txt" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >RFC2338</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >)&nbsp;is&nbsp;focused&nbsp;on&nbsp;director&nbsp;takeover,&nbsp;it&nbsp;provide&nbsp;low-level&nbsp;design&nbsp;for&nbsp;router&nbsp;backup.</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >高扩展</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >lvs<font face="宋体" >不支持扩展方式，常用的方式是使用</font><font face="Calibri" >dns</font><font face="宋体" >轮询到不同的</font><font face="Calibri" >lvs</font><font face="宋体" >上。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ospf+lvs&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >参考资料</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.docin.com/p-310290067.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.docin.com/p-310290067.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://my.oschina.net/lxcong/blog/143904" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://my.oschina.net/lxcong/blog/143904</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >5<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >应用场景</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >5.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >典型的部署方案</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><img width="554"  height="542"  src="lvs.files/lvs24193.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >5.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >淘宝部署方案</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><img width="554"  height="365"  src="lvs.files/lvs24202.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="270"  src="lvs.files/lvs24206.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="416"  src="lvs.files/lvs24209.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;还是<font face="Calibri" >DR</font><font face="宋体" >模式</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >6<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >问题</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.1<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >L</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >vs&nbsp;<font face="宋体" >如何判断&nbsp;</font><font face="Cambria" >realserver</font><font face="宋体" >挂机</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l1 level1 lfo11; " ><![if !supportLists]><span style="font-family:Wingdings; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >&#108;<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >K</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eepalived&nbsp;<font face="宋体" >提供了</font><font face="Calibri" >Realserver</font><font face="宋体" >检测方式</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/docs/ha/keepalived.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.linuxvirtualserver.org/docs/ha/keepalived.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l1 level1 lfo11; " ><![if !supportLists]><span style="font-family:Wingdings; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >&#108;<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >H</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >eartbeat<font face="宋体" >提供了&nbsp;</font><font face="Calibri" >ldiretor</font><font face="宋体" >检测</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >首先架构应该是前面有<font face="Verdana" >2</font><font face="宋体" >台</font><font face="Verdana" >lvs</font><font face="宋体" >机器，</font><font face="Verdana" >2</font><font face="宋体" >个都安装</font><font face="Verdana" >heartbeat</font><font face="宋体" >，做主备，后面接</font><font face="Verdana" >1</font><font face="宋体" >个以上实际的访问主机</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " >ldirected<font face="宋体" >是</font><font face="Verdana" >heartbeat</font><font face="宋体" >的一个插件，如果其中一个机器坏了，会自动从</font><font face="Verdana" >lvs</font><font face="宋体" >中剔除，如果</font><font face="Verdana" >lvs</font><font face="宋体" >机器坏了，会切换到备机</font></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; line-height:19.2000pt; " ><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal  style="mso-pagination:widow-orphan; line-height:19.2000pt; " ><span><a href="http://www.keepalived.org/LVS-NAT-Keepalived-HOWTO.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.keepalived.org/LVS-NAT-Keepalived-HOWTO.html</span></a></span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; mso-bidi-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:0.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.2<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >图形管理界面</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span class="26"  style="mso-spacerun:'yes'; font-family:Verdana; color:rgb(75,93,103); font-size:7.5000pt; background:rgb(155,195,213); mso-shading:rgb(155,195,213); " >&#160;</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(75,93,103); font-size:7.5000pt; mso-font-kerning:1.0000pt; background:rgb(155,195,213); mso-shading:rgb(155,195,213); " >Piranha</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(75,93,103); font-size:7.5000pt; mso-font-kerning:1.0000pt; background:rgb(155,195,213); mso-shading:rgb(155,195,213); " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:18.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span><a href="http://kezhong.wordpress.com/2010/03/28/setup-linux-loadbalancer-with-piranha-and-lvs-on-centos-5-4/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://kezhong.wordpress.com/2010/03/28/setup-linux-loadbalancer-with-piranha-and-lvs-on-centos-5-4/</span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.3<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;NAT<font face="宋体" >同一个网段问题</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal  style="text-indent:5.2500pt; mso-char-indent-count:0.5000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >同</span><span style="mso-spacerun:'yes'; font-family:Verdana; mso-fareast-font-family:宋体; color:rgb(0,0,0); font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >一个网段内的客户端不能访问<font face="Verdana" >LVS/NAT</font><font face="宋体" >方式的</font><font face="Verdana" >Director</font><font face="宋体" >，因为</font><font face="Verdana" >RS</font><font face="宋体" >直接返回给了客户端了</font></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Verdana; mso-hansi-font-family:Verdana; color:rgb(0,0,0); font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; background:rgb(255,255,255); mso-shading:rgb(255,255,255); " >。</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >外网访问</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="555"  height="86"  src="lvs.files/lvs24978.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >无法访问<font face="Calibri" >nat</font><font face="宋体" >转换</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="480"  src="lvs.files/lvs24990.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >本机可以</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="151"  src="lvs.files/lvs24998.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="112"  src="lvs.files/lvs25001.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >抓包</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="286"  src="lvs.files/lvs25006.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="289"  src="lvs.files/lvs25011.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >直接转发模式</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="225"  src="lvs.files/lvs25022.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >尝试下一个服务器</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="139"  src="lvs.files/lvs25034.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >客户端添加路由，强制使用路由器</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="254"  src="lvs.files/lvs25055.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >发现<font face="Calibri" >163</font><font face="宋体" >还是重复发送数据到</font><font face="Calibri" >75,75</font><font face="宋体" >返回的报文不认可。</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.4<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >&nbsp;防火墙问题</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><img width="554"  height="297"  src="lvs.files/lvs25095.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.5<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >shell<font face="宋体" >无法登陆</font></span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><img width="554"  height="225"  src="lvs.files/lvs25110.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >登陆到<font face="Calibri" >79</font><font face="宋体" >，在登陆</font><font face="Calibri" >75</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >ssh&nbsp;192.168.1.75&nbsp;<font face="宋体" >很慢，其他正常</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="294"  height="36"  src="lvs.files/lvs25154.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="554"  height="359"  src="lvs.files/lvs25156.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >本地添加路由，可以正常访问</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="158"  src="lvs.files/lvs25176.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >正常的报文</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="120"  src="lvs.files/lvs25186.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >排查原因</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="554"  height="92"  src="lvs.files/lvs25194.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >解决方法</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><img width="406"  height="26"  src="lvs.files/lvs25202.png" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><img width="451"  height="48"  src="lvs.files/lvs25204.png" ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.6<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >组网问题</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >一定把网络规划好，才用的转发模式依赖与网络结构。</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h2 style="mso-list:l8 level2 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6.7<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Cambria; mso-hansi-font-family:Cambria; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " >其他问题排查</span><span style="mso-spacerun:'yes'; font-family:Cambria; mso-fareast-font-family:宋体; font-weight:bold; font-size:16.0000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></h2><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >1．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看<font face="Calibri" >lvs</font><font face="宋体" >状态</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >watch&nbsp;ipvsadm&nbsp;-ln</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >2．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看<font face="Calibri" >lvs</font><font face="宋体" >配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >3．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看<font face="Calibri" >realserver</font><font face="宋体" >的服务情况</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >4．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >抓包看<font face="Calibri" >lvs</font><font face="宋体" >是否工作正常</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >5．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >抓包查看<font face="Calibri" >realserver</font><font face="宋体" >是否工作正常</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >6．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >抓包查看客户段是否正常工作</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:-21.0000pt; mso-char-indent-count:0.0000; mso-list:l20 level1 lfo12; " ><![if !supportLists]><span style="font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><span style='mso-list:Ignore; ' >7．<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >查看系统日志</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=NewStyle52  style="margin-left:21.0000pt; text-indent:0.0000pt; mso-char-indent-count:0.0000; " ><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >tail&nbsp;</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&#8211;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >f&nbsp;/var/log/message</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><h1 style="mso-list:l8 level1 lfo1; " ><![if !supportLists]><span style="font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><span style='mso-list:Ignore; ' >7<span>&nbsp;</span></span></span><![endif]><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " >参考资料</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-weight:bold; font-size:22.0000pt; mso-font-kerning:22.0000pt; " ><o:p></o:p></span></h1><p class=MsoNormal ><span><a href="http://www.ibm.com/developerworks/cn/linux/cluster/l-lvsinst/index.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.ibm.com/developerworks/cn/linux/cluster/l-lvsinst/index.html</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;入门</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.ultramonkey.org/papers/lvs_tutorial/html/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.ultramonkey.org/papers/lvs_tutorial/html/</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;实践大全</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/zh/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.linuxvirtualserver.org/zh/</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;中文官网</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.linuxvirtualserver.org</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;&nbsp;&nbsp;英文官网</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/zh/lvs3.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.linuxvirtualserver.org/zh/lvs3.html</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >LVS<font face="宋体" >集群中的</font><font face="Times New Roman" >IP</font><font face="宋体" >负载均衡技术</font></span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.linuxvirtualserver.org/zh/lvs4.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.linuxvirtualserver.org/zh/lvs4.html</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >LVS<font face="宋体" >集群的负载调度</font></span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://ixdba.blog.51cto.com/2895551/552947" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://ixdba.blog.51cto.com/2895551/552947</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;&nbsp;&nbsp;高手篇</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://hi.baidu.com/buttlewolf/item/8486d6fca03c434e932af2ea" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://hi.baidu.com/buttlewolf/item/8486d6fca03c434e932af2ea</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;几种配置方案</span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://ixdba.blog.51cto.com/2895551/552947" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://ixdba.blog.51cto.com/2895551/552947</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://blog.163.com/lucky_yjw/blog/static/6947908920120654622166/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://blog.163.com/lucky_yjw/blog/static/6947908920120654622166/</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;命令详解</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://os.51cto.com/art/201202/319979.htm" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://os.51cto.com/art/201202/319979.htm</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;</span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >负责均衡教程</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://linux.chinaunix.net/techdoc/net/2009/07/21/1125256.shtml" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://linux.chinaunix.net/techdoc/net/2009/07/21/1125256.shtml</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;LVS+Keepalived<font face="宋体" >实现高可用集群</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://network.51cto.com/art/201004/196878.htm" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://network.51cto.com/art/201004/196878.htm</span></a></span><span class="27"  style="mso-spacerun:'yes'; font-family:宋体; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >&nbsp;&nbsp;&nbsp;&nbsp;三种转发机制的优缺点</span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://machael.blog.51cto.com/829462/211587/" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://machael.blog.51cto.com/829462/211587/</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;&nbsp;&nbsp;ipvsadm<font face="宋体" >命令参考，线上配置</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span><a href="http://www.cnblogs.com/lgfeng/archive/2012/10/16/2726308.html" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >http://www.cnblogs.com/lgfeng/archive/2012/10/16/2726308.html</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;</span><span><a href="http://www.cnblogs.com/lgfeng/archive/2012/10/16/2726308.html" ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >LVS<font face="宋体" >负载均衡中</font><font face="Calibri" >arp_ignore</font><font face="宋体" >和</font><font face="Calibri" >arp_annonuce</font><font face="宋体" >参数配置的含义</font></span></a></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p><p class=MsoNormal ><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p>&nbsp;</o:p></span></p><p class=MsoNormal ><span><a href="http://www.doc88.com/p-239796984871.html" ><span class="27"  style="mso-spacerun:'yes'; font-family:'Times New Roman'; color:rgb(0,0,255); text-decoration:underline; text-underline:single; " >http://www.doc88.com/p-239796984871.html</span></a></span><span style="mso-spacerun:'yes'; font-family:宋体; mso-ascii-font-family:Calibri; mso-hansi-font-family:Calibri; font-size:10.5000pt; mso-font-kerning:1.0000pt; " >&nbsp;&nbsp;红帽<font face="Calibri" >lvs</font><font face="宋体" >配置&nbsp;推荐</font></span><span style="mso-spacerun:'yes'; font-family:Calibri; mso-fareast-font-family:宋体; font-size:10.5000pt; mso-font-kerning:1.0000pt; " ><o:p></o:p></span></p></div><!--EndFragment--></body></html>